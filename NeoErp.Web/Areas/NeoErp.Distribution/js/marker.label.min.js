function MarkerLabel_(e){this.marker_=e,this.labelDiv_=document.createElement("div"),this.labelDiv_.style.cssText="position: absolute; overflow: hidden;",this.eventDiv_=document.createElement("div"),this.eventDiv_.style.cssText=this.labelDiv_.style.cssText}function MarkerWithLabel(e){e=e||{},e.labelContent=e.labelContent||"",e.labelAnchor=e.labelAnchor||new google.maps.Point(0,0),e.labelClass=e.labelClass||"markerLabels",e.labelStyle=e.labelStyle||{},e.labelInBackground=e.labelInBackground||!1,"undefined"==typeof e.labelVisible&&(e.labelVisible=!0),this.label=new MarkerLabel_(this),google.maps.Marker.apply(this,arguments)}MarkerLabel_.prototype=new google.maps.OverlayView,MarkerLabel_.prototype.onAdd=function(){var e,t,i,s,l,a=this,n=!1,o=!1,r=function(e){e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()};this.getPanes().overlayImage.appendChild(this.labelDiv_),this.getPanes().overlayMouseTarget.appendChild(this.eventDiv_),this.listeners_=[google.maps.event.addDomListener(document,"mouseup",function(t){o&&(t.latLng=e,l=!0,google.maps.event.trigger(a.marker_,"dragend",t)),n=!1,google.maps.event.trigger(a.marker_,"mouseup",t)}),google.maps.event.addListener(a.marker_.getMap(),"mousemove",function(t){n&&a.marker_.getDraggable()&&(t.latLng=new google.maps.LatLng(t.latLng.lat()-i,t.latLng.lng()-s),e=t.latLng,o?google.maps.event.trigger(a.marker_,"drag",t):(i=t.latLng.lat()-a.marker_.getPosition().lat(),s=t.latLng.lng()-a.marker_.getPosition().lng(),google.maps.event.trigger(a.marker_,"dragstart",t)))}),google.maps.event.addDomListener(this.eventDiv_,"mouseover",function(e){a.eventDiv_.style.cursor="pointer",google.maps.event.trigger(a.marker_,"mouseover",e)}),google.maps.event.addDomListener(this.eventDiv_,"mouseout",function(e){a.eventDiv_.style.cursor=a.marker_.getCursor(),google.maps.event.trigger(a.marker_,"mouseout",e)}),google.maps.event.addDomListener(this.eventDiv_,"click",function(e){l?l=!1:(r(e),google.maps.event.trigger(a.marker_,"click",e))}),google.maps.event.addDomListener(this.eventDiv_,"dblclick",function(e){r(e),google.maps.event.trigger(a.marker_,"dblclick",e)}),google.maps.event.addDomListener(this.eventDiv_,"mousedown",function(e){n=!0,o=!1,i=0,s=0,r(e),google.maps.event.trigger(a.marker_,"mousedown",e)}),google.maps.event.addListener(this.marker_,"dragstart",function(e){o=!0,t=a.marker_.getZIndex()}),google.maps.event.addListener(this.marker_,"drag",function(e){a.marker_.setPosition(e.latLng),a.marker_.setZIndex(1e6)}),google.maps.event.addListener(this.marker_,"dragend",function(e){o=!1,a.marker_.setZIndex(t)}),google.maps.event.addListener(this.marker_,"position_changed",function(){a.setPosition()}),google.maps.event.addListener(this.marker_,"zindex_changed",function(){a.setZIndex()}),google.maps.event.addListener(this.marker_,"visible_changed",function(){a.setVisible()}),google.maps.event.addListener(this.marker_,"labelvisible_changed",function(){a.setVisible()}),google.maps.event.addListener(this.marker_,"title_changed",function(){a.setTitle()}),google.maps.event.addListener(this.marker_,"labelcontent_changed",function(){a.setContent()}),google.maps.event.addListener(this.marker_,"labelanchor_changed",function(){a.setAnchor()}),google.maps.event.addListener(this.marker_,"labelclass_changed",function(){a.setStyles()}),google.maps.event.addListener(this.marker_,"labelstyle_changed",function(){a.setStyles()})]},MarkerLabel_.prototype.onRemove=function(){var e;for(this.labelDiv_.parentNode.removeChild(this.labelDiv_),this.eventDiv_.parentNode.removeChild(this.eventDiv_),e=0;e<this.listeners_.length;e++)google.maps.event.removeListener(this.listeners_[e])},MarkerLabel_.prototype.draw=function(){this.setContent(),this.setTitle(),this.setStyles()},MarkerLabel_.prototype.setContent=function(){return},MarkerLabel_.prototype.setTitle=function(){this.eventDiv_.title=this.marker_.getTitle()||""},MarkerLabel_.prototype.setStyles=function(){var e,t;this.labelDiv_.className=this.marker_.get("labelClass"),this.eventDiv_.className=this.labelDiv_.className,this.labelDiv_.style.cssText="",this.eventDiv_.style.cssText="",t=this.marker_.get("labelStyle");for(e in t)t.hasOwnProperty(e)&&(this.labelDiv_.style[e]=t[e],this.eventDiv_.style[e]=t[e]);this.setMandatoryStyles()},MarkerLabel_.prototype.setMandatoryStyles=function(){this.labelDiv_.style.position="absolute",this.labelDiv_.style.overflow="hidden","undefined"!=typeof this.labelDiv_.style.opacity&&(this.labelDiv_.style.filter="alpha(opacity="+100*this.labelDiv_.style.opacity+")"),this.eventDiv_.style.position=this.labelDiv_.style.position,this.eventDiv_.style.overflow=this.labelDiv_.style.overflow,this.eventDiv_.style.opacity=.01,this.eventDiv_.style.filter="alpha(opacity=1)",this.setAnchor(),this.setPosition(),this.setVisible()},MarkerLabel_.prototype.setAnchor=function(){var e=this.marker_.get("labelAnchor");this.labelDiv_.style.marginLeft=-e.x+"px",this.labelDiv_.style.marginTop=-e.y+"px",this.eventDiv_.style.marginLeft=-e.x+"px",this.eventDiv_.style.marginTop=-e.y+"px"},MarkerLabel_.prototype.setPosition=function(){var e=this.getProjection().fromLatLngToDivPixel(this.marker_.getPosition());this.labelDiv_.style.left=e.x+"px",this.labelDiv_.style.top=e.y+"px",this.eventDiv_.style.left=this.labelDiv_.style.left,this.eventDiv_.style.top=this.labelDiv_.style.top,this.setZIndex()},MarkerLabel_.prototype.setZIndex=function(){var e=this.marker_.get("labelInBackground")?-1:1;"undefined"==typeof this.marker_.getZIndex()?(this.labelDiv_.style.zIndex=parseInt(this.labelDiv_.style.top,10)+e,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex):(this.labelDiv_.style.zIndex=this.marker_.getZIndex()+e,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex)},MarkerLabel_.prototype.setVisible=function(){this.marker_.get("labelVisible")?this.labelDiv_.style.display=this.marker_.getVisible()?"block":"none":this.labelDiv_.style.display="none",this.eventDiv_.style.display=this.labelDiv_.style.display},MarkerWithLabel.prototype=new google.maps.Marker,MarkerWithLabel.prototype.setMap=function(e){google.maps.Marker.prototype.setMap.apply(this,arguments),this.label.setMap(e)},MarkerWithLabel.prototype.setContent=function(e){return this.labelContent=e,this.label.setContent(),this},MarkerWithLabel.prototype.setAnchor=function(e){return this.labelAnchor=e||this.labelAnchor,this.label.setAnchor(),this};
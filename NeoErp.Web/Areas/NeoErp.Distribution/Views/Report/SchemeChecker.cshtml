

@{
    ViewBag.Title = "SchemeChecker";
    Layout = null;
}


<div ng-controller="SchemeCheckerCtrl">
    <div class="page-bar">
        <ul class="page-breadcrumb">
            <li>
                <i class="fa fa-home"></i>
                <a href="/sales/SalesHome/Dashboard">Home</a>
                <i class="fa fa-angle-right"></i>
            </li>
            <li>
                <a href="#">Scheme Checker</a>
                <i class="fa fa-angle-right"></i>

            </li>
        </ul>


    </div>
    <div class="portlet light bordered main" ng-show="createPanel">
        <div class="portlet-title">
            <div class="caption">
                <i class="fa fa-list-alt font-green-haze"></i>
                <span class="caption-subject font-green-haze bold uppercase pull-left">
                    Scheme Approval
                </span>
            </div>
            <span class="actions pull-right">
                <button type="button" id="cancelTarget" name="cancelTarget" class="btn btn-default btn-sm" ng-click="Cancel();">Cancel</button>
                <button type="submit" id="updateScheme" name="updateScheme" ng-click="schemeEdit(SchemeCreateForm.$valid)" class="btn btn-green btn-sm">{{saveAction}}</button>
                <button type="submit" id="approveScheme" name="approveScheme" ng-click="schemeApprove(SchemeCreateForm.$valid)" class="btn btn-green btn-sm">{{approveAction}}</button>
                <button type="submit" id="rejectScheme" name="rejectScheme" ng-click="schemeReject(SchemeCreateForm.$valid)" class="btn btn-default btn-sm">Reject</button>
            </span>

        </div><!-- /portlet-title-->
        <div class="portlet-body">
            <div class="row">
                <div class="col-md-12">
                    <form id="SchemeCreateForm" name="SchemeCreateForm" novalidate>
                        <div class="row">
                            <div class="col-sm-4 col-md-4">
                                <div class="form-group">
                                    <label class="control-label">
                                        Scheme Name <span style="color:red" ng-show="DistributorCreateForm.distCustomerMultiSelect.$invalid">
                                            <span ng-show="DistributorCreateForm.distCustomerMultiSelect.$error.required">*</span>
                                        </span>
                                    </label>
                                    @*<select id="distCustomerMultiSelect" name="distCustomerMultiSelect" kendo-multi-select k-options="distCustomerSelectOptions" slim-scroll ng-model="selecteddistCustomer" style="width:100%;" required></select>*@
                                    <input id="SchemeName" ng-model="SchemeName" name="SchemeName" class="form-control input-sm" placeholder="Scheme Name" required disabled />

                                </div>
                            </div>
                            <div class="col-sm-4 col-md-4">
                                <div class="form-group">
                                    <label class="control-label">
                                        Employees List <span style="color:red" ng-show="DistributorCreateForm.areaMultiSelect.$invalid">
                                            <span ng-show="DistributorCreateForm.areaMultiSelect.$error.required">*</span>
                                        </span>
                                    </label>
                                    <select id="employeeMultiSelect" name="employeeMultiSelect" kendo-multi-select k-options="employeeOptions" slim-scroll ng-model="selectedemployee" required disabled></select>
                                </div>
                            </div>
                            <div class="col-sm-4 col-md-4">
                                <div class="form-group">
                                    <label class="control-label">
                                        Area <span style="color:red" ng-show="DistributorCreateForm.areaMultiSelect.$invalid">
                                            <span ng-show="DistributorCreateForm.areaMultiSelect.$error.required">*</span>
                                        </span>
                                    </label>
                                    <select id="areaMultiSelect" name="areaMultiSelect" kendo-multi-select k-options="areaSelectOptions" slim-scroll ng-model="selectedArea" style="width:100%;" disabled></select>

                                    @*<select id="areaMultiSelect" name="areaMultiSelect" kendo-multi-select k-options="areaSelectOptions" slim-scroll ng-model="selectedArea" required></select>*@
                                </div>
                            </div>

                        </div>

                        <div class="row">
                            <div class="col-sm-3 col-md-3">
                                <div class="form-group">
                                    <label class="control-label">
                                        Customer
                                    </label>
                                    <select id="customerMultiSelect" name="customerMultiSelect" kendo-multi-select k-options="customerMultiSelect" slim-scroll ng-model="customerMultiSelect" style="width:100%;" disabled></select>
                                </div>
                            </div>
                            <div class="col-sm-3 col-md-4">
                                <div class="form-group">
                                    <label class="control-label">
                                        Reseller
                                    </label>
                                    <select id="brdReseller" name="brdReseller" kendo-multi-select k-options="brdReseller" slim-scroll ng-model="brdReseller" style="width:100%;" disabled></select>
                                </div>
                            </div>
                            <div class="col-sm-3 col-md-4">
                                <div class="row">
                                    <div class="col-md-6 col-sm-6">
                                        <div class="form-group">
                                            <label class="control-label">
                                                Start Date AD<span style="color:red" ng-show="createContractForm.startDatePicker.$invalid">
                                                    <span ng-show="createContractForm.startDatePicker.$error.required">*</span>
                                                </span>
                                            </label>
                                            <input class="form-control" type="text" name="startDatePicker" ng-model="startDatePicker" id="startDatePicker" placeholder="Select Date..." required disabled>
                                        </div>
                                    </div>


                                    <div class="col-sm-6 col-md-6">
                                        <div class="form-group">
                                            <label class="control-label">
                                                End Date AD<span style="color:red" ng-show="createContractForm.endDatePicker.$invalid">
                                                    <span ng-show="createContractForm.endDatePicker.$error.required">*</span>
                                                </span>
                                            </label>
                                            <input class="form-control" type="text" name="endDatePicker" ng-model="endDatePicker" id="endDatePicker" placeholder="Select Date..." required disabled>
                                        </div>
                                    </div>
                                    <div class="col-md-6 col-sm-6">
                                        <div class="form-group">
                                            <label class="control-label">
                                                Start Date BS<span style="color:red" ng-show="createContractForm.startDatePicker.$invalid">
                                                    <span ng-show="createContractForm.startDatePicker.$error.required">*</span>
                                                </span>
                                            </label>
                                            <input class="form-control" type="text" name="startDatePicker" ng-model="startDatePicker" id="startDatePicker" placeholder="Select Date..." required disabled>
                                        </div>
                                    </div>
                                    <div class="col-sm-6 col-md-6">
                                        <div class="form-group">
                                            <label class="control-label">
                                                End Date BS<span style="color:red" ng-show="createContractForm.endDatePicker.$invalid">
                                                    <span ng-show="createContractForm.endDatePicker.$error.required">*</span>
                                                </span>
                                            </label>
                                            <input class="form-control" type="text" name="endDatePicker" ng-model="endDatePicker" id="endDatePicker" placeholder="Select Date..." required disabled>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>


                        <div class="row">


                            <div class="col-sm-4 col-md-4">
                                <div class="form-group">
                                    <label class="control-label">
                                        Brands
                                    </label>
                                    <select id="distBrandSelect" name="distBrandSelect" kendo-multi-select k-options="distBrandSelectOptions" ng-model="selectedBrands" required disabled></select>
                                </div>
                            </div>
                            <div class="col-sm-4 col-md-4">
                                <div class="form-group">
                                    <label class="control-label">
                                        Items
                                    </label>
                                    <select id="distItemsSelect" name="distItemsSelect" kendo-multi-select k-options="distItemsSelectOptions" ng-model="selectedItems" disabled></select>
                                </div>
                            </div>
                            <div class="col-sm-4 col-md-4">
                                <div class="form-group">
                                    <label class="control-label">
                                        Scheme Type
                                    </label>
                                    <select id="SchemeType" name="SchemeType" k-ng-model="Q.Type" k-value-primitive="true"
                                            kendo-drop-down-list k-options="SchemeOptions" k-on-change="showOtherOptions(Q.Type)"
                                            style="width:100%;" disabled></select>
                                </div>
                            </div>

                        </div>
                        <div id="options" ng-show="showOptions">
                            <h4 style="font:bold">{{SchemeTypeName}}</h4>
                            @*<div class="row">
                                    <div class="col-sm-4 col-md-4">
                                        <div class="form-group">

                                            <label class="control-label">
                                                Max Quantity
                                            </label>
                                            <input id="MaxQty" ng-model="MaxQty" name="MaxQty" class="form-control input-sm" placeholder="Max Quantity" required />

                                        </div>
                                    </div>

                                    <div class="col-sm-4 col-md-4">
                                        <div class="form-group">

                                            <label class="control-label">
                                                Min Quantity
                                            </label>
                                            <input id="MinQty" ng-model="MinQty" name="MinQty" class="form-control input-sm" placeholder="Min Quantity" required />

                                        </div>
                                    </div>
                                    <div class="col-sm-4 col-md-4" ng-show="showGiftoption">
                                        <div class="form-group">
                                            <label class="control-label">
                                                Items
                                            </label>
                                            <select id="distGiftItemsSelect" name="distGiftItemsSelect" kendo-multi-select k-options="giftItemsSelectOptions" ng-model="selectedGiftItems"></select>
                                        </div>
                                    </div>
                                    <div class="row" ng-show="showQtyAmtoptions">
                                        <div class="col-sm-4 col-md-3" style="padding-right: 0px;">
                                            <div class="form-group">
                                                <label class="control-label">
                                                    Discount
                                                </label>

                                                <input type="text" class="form-control" placeholder="Enter Discount" ng-model="DiscountAmount">

                                            </div>
                                        </div>
                                        <div class="col-sm-4 col-md-1" style="padding-left: 0px;padding-top: 23px;">
                                            <div class="form-group">
                                                <span>
                                                    <select id="DiscountType" name="DiscountType" k-ng-model="D.Type" k-value-primitive="true"
                                                            kendo-drop-down-list k-options="DiscountOptions" style="width:90%;" required></select>
                                                </span>

                                            </div>
                                        </div>
                                    </div>
                                </div>*@
                            <div class="row">
                                <div class="col-md-12 col-sm-12">
                                    <table class="table table-bordered">
                                        <thead>
                                            <tr>
                                                <th class="col-md-1">S.N.</th>
                                                <th class="col-md-3">Min Quantity</th>
                                                <th class="col-md-3">Max Quantity</th>
                                                <th class="col-md-3" ng-show="showQtyAmtoptions">Discount</th>
                                                <th class="col-md-2" ng-show="showQtyAmtoptions">Discount Type</th>
                                                <th class="col-md-3" ng-show="showGiftoption">Gift Item</th>
                                                <th class="col-md-2" ng-show="showGiftoption">Gift Qunatity</th>
                                                <th class="col-md-1">
                                                    <button class="btn btn-green btn-xs" ng-click="AddProductItem()" disabled><i class="fa fa-plus"></i> Add</button>
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="row in rows">
                                                <td>{{$index+1}}.</td>
                                                <td>
                                                    <input id="MinQty" ng-model="row.MIN_VALUE" name="MinQty" class="form-control input-sm" placeholder="Min Quantity" required disabled />

                                                </td>
                                                <td>
                                                    <input id="MaxQty" ng-model="row.MAX_VALUE" name="MaxQty" class="form-control input-sm" placeholder="Max Quantity" required disabled />

                                                </td>
                                                <td ng-show="showQtyAmtoptions">
                                                    <input type="text" class="form-control" placeholder="Enter Discount" ng-model="row.Discount" disabled>
                                                </td>
                                                <td ng-show="showQtyAmtoptions">

                                                    <select id="DiscountType" name="DiscountType" k-ng-model="row.DiscountType" k-value-primitive="true"
                                                            kendo-drop-down-list k-options="DiscountOptions" style="width:90%;" disabled></select>

                                                </td>
                                                <td ng-show="showGiftoption">
                                                    <select id="distGiftItemsSelect" name="distGiftItemsSelect" kendo-multi-select k-options="giftItemsSelectOptions" ng-model="row.GiftItemCode" disabled></select>
                                                </td>
                                                <td ng-show="showGiftoption">
                                                    <input id="GiftQty" ng-model="row.GiftQty" name="GiftQty" class="form-control input-sm" placeholder="Gift Quantity" disabled />

                                                </td>
                                                <td class="add_btn">
                                                    <button class="btn btn-xs btn-danger" ng-click="RemoveProductItem($index)" disabled><i class="fa fa-trash delete_icon"></i></button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                    </form>
                </div>

            </div>
        </div>
    </div>
    <div class="row collapse in" id="demo">
        <div class="col-md-12">
            <div class="portlet light bordered">
                <div class="portlet-body form">
                    <div class="row kendo_table">
                        <kendo-grid options="grid" id="grid">
                            <div k-detail-template>
                                <kendo-tabstrip>
                                    <ul>
                                        <li class="k-state-active">SchemeItems</li>
                                        <li>Areas</li>
                                        <li ng-hide="showOthers">GiftItems</li>
                                        <li ng-show="showOthers">Details</li>

                                    </ul>
                                    <div>
                                        <div kendo-grid k-options="schemeItems(dataItem)"></div>
                                    </div>
                                    <div>
                                        <div kendo-grid k-options="schemeAreas(dataItem)"></div>
                                    </div>
                                    <div>
                                        <div kendo-grid k-options="getGiftItem(dataItem)">
                                            @*<div class="row" ng-repeat="items in giftItems">

                                                    <div class="col-sm-4 col-md-2">
                                                        <div class="form-group">

                                                            <label class="control-label">
                                                                Minimum Quantity
                                                            </label>
                                                            <input id="MinQty" value={{items.Min_Value}} name="MinQty" class="form-control input-sm" placeholder="Min Quantity" disabled />

                                                        </div>
                                                    </div>
                                                    <div class="col-sm-4 col-md-2">


                                                        <label class="control-label">
                                                            Max Quantity
                                                        </label>
                                                        <input id="MaxQty" ng-model="items.Max_Value" name="MaxQty" class="form-control input-sm" placeholder="Max Quantity" disabled />


                                                    </div>
                                                    <div class="col-sm-4 col-md-4">
                                                        <div class="form-group">
                                                            <label class="control-label">
                                                                Items
                                                            </label>
                                                            <select id="distGiftItemsSelect" name="distGiftItemsSelect" kendo-multi-select k-options="giftItemsSelectOptions" ng-model="items.ItemCode" disabled></select>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-4 col-md-2">
                                                        <div class="form-group">
                                                            <label class="control-label">
                                                                Gift Quantity
                                                            </label>
                                                            <input id="GiftQty" ng-model="items.Gift_QTY" name="GiftQty" class="form-control input-sm" placeholder="Gift Quantity" disabled />


                                                        </div>
                                                    </div>
                                                </div>*@
                                        </div>
                                    </div>
                                    <div>
                                        <div kendo-grid k-options="others(dataItem)"></div>
                                    </div>
                                </kendo-tabstrip>
                            </div>
                        </kendo-grid>
                        @Html.Partial("~/Views/Shared/Controls/_GridToolbar.cshtml")
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
            $(function () {
                debugger;
                $("#startDatePicker, #endDatePicker, #paymentDate").datepicker({
                    changeMonth: true,
                    changeYear: true,
                });



            });
</script>
<script src="@Scripts.Url("~/JS/reportFilter.js")"></script>
<script src="@Scripts.Url(" ~/JS/DateFilter.js")" type="text/javascript"></script>



<div class="content">
    <div class="page-bar">
        @*<ul class="page-breadcrumb">
                <li>
                        <i class="fa fa-home"></i>
                        <a href="/Distribution/Home/Dashboard#!Distribution/">Home</a>
                        <i class="fa fa-angle-right"></i>
                    </li>
                    <li>
                        <a href="#">BranchWise Sales Vs Target</a>
                        <i class="fa fa-angle-right"></i>
                    </li>

            </ul>*@
        <div class="page-toolbar">
            <div class="btn-group pull-right">

                <div class="actions" style="display:none;">
                    @Html.Partial("~/Views/Shared/Controls/ConsolidateFilter.cshtml", true)

                    <a class="btn btn-circle btn-icon-only btn-default" id="RunQuery">
                        <i class="icon-control-play"></i>
                    </a>
                    <div class="btn-group">
                        @Html.Partial("~/Views/Shared/Controls/_ReportConfig.cshtml", "SalesPersonPO")
                    </div>
                </div>
            </div>
        </div>

    </div>

</div>
<div class="caption">
    <i class="fa fa-file-o font-green-haze"></i>
    <span class="caption-subject bold uppercase font-green-haze custom-modal">Sales Vs Customer Achievement Report</span>
</div>
<br />
<div>
    <div id="grid"></div>
    <div class="row collapse in" id="demo">
        <div class="col-md-12">
            <div class="portlet light bordered">
                <div class="portlet-body form">
                    <div class="row">
                        @Html.Partial("~/Views/Shared/Controls/_GridToolbar.cshtml")
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>
<script src="@Scripts.Url("~/JS/reportFilter.js")"></script>


<script src="@Scripts.Url("~/JS/DateFilter.js")" type="text/javascript"></script>
<script type="text/javascript">
    debugger;
    //$("#RunQuery").click(function (e) {
    //    $("#grid").data("kendoGrid").dataSource.read();
    //});



    var gridUrl = window.location.protocol + "//" + window.location.host + "/api/Distributor/GetAllSalesTargetVsCustomerAchievement";




    function dataBind() {
        reportConfig = GetReportSetting("SalesTargetvsCustomerAchievement");
        $("#grid").kendoGrid({
            dataSource: {
                transport: {
                    read: {
                        url: gridUrl,
                        dataType: "json", // <-- The default was "jsonp".
                        //type: "POST",
                        contentType: "application/json; charset=utf-8"
                    },
                    parameterMap: function (options, type) {
                        debugger;
                        var paramMap = JSON.stringify($.extend(options, ReportFilter.filterAdditionalData()));
                        delete paramMap.$inlinecount; // <-- remove inlinecount parameter.
                        delete paramMap.$format; // <-- remove format parameter.
                        return paramMap;
                    },
                },
                schema: {
                     parse: function (response) {
                        var result = [];

                        response.forEach(function (item, idx) {

                            angular.forEach(item.MONTH_TARGET, function (arrayElement) {

                                if (arrayElement.MONTH_NAME == 'Baishakh') {
                                    item.Baishakh_ACHIVE_VALUE = arrayElement.Target.ACHIVE_VALUE;
                                    item.Baishakh_QUANTITY_ACHIVE = arrayElement.Target.QUANTITY_ACHIVE;
                                    item.Baishakh_TARGET_QUANTITY = arrayElement.Target.TARGET_QUANTITY;
                                    item.Baishakh_TARGET_VALUE = arrayElement.Target.TARGET_VALUE;
                                }
                                else if (arrayElement.MONTH_NAME == 'Jestha') {
                                    item.Jestha_ACHIVE_VALUE = arrayElement.Target.ACHIVE_VALUE;
                                    item.Jestha_QUANTITY_ACHIVE = arrayElement.Target.QUANTITY_ACHIVE;
                                    item.Jestha_TARGET_QUANTITY = arrayElement.Target.TARGET_QUANTITY;
                                    item.Jestha_TARGET_VALUE = arrayElement.Target.TARGET_VALUE;
                                }
                                else if (arrayElement.MONTH_NAME == 'Ashadh') {
                                    item.Ashadh_ACHIVE_VALUE = arrayElement.Target.ACHIVE_VALUE;
                                    item.Ashadh_QUANTITY_ACHIVE = arrayElement.Target.QUANTITY_ACHIVE;
                                    item.Ashadh_TARGET_QUANTITY = arrayElement.Target.TARGET_QUANTITY;
                                    item.Ashadh_TARGET_VALUE = arrayElement.Target.TARGET_VALUE;
                                }
                                else if (arrayElement.MONTH_NAME == 'Shrawan') {
                                    item.Shrawan_ACHIVE_VALUE = arrayElement.Target.ACHIVE_VALUE;
                                    item.Shrawan_QUANTITY_ACHIVE = arrayElement.Target.QUANTITY_ACHIVE;
                                    item.Shrawan_TARGET_QUANTITY = arrayElement.Target.TARGET_QUANTITY;
                                    item.Shrawan_TARGET_VALUE = arrayElement.Target.TARGET_VALUE;
                                }
                                else if (arrayElement.MONTH_NAME == 'Bhadra') {
                                    item.Bhadra_ACHIVE_VALUE = arrayElement.Target.ACHIVE_VALUE;
                                    item.Bhadra_QUANTITY_ACHIVE = arrayElement.Target.QUANTITY_ACHIVE;
                                    item.Bhadra_TARGET_QUANTITY = arrayElement.Target.TARGET_QUANTITY;
                                    item.Bhadra_TARGET_VALUE = arrayElement.Target.TARGET_VALUE;
                                }
                                else if (arrayElement.MONTH_NAME == 'Ashoj') {
                                    item.Ashoj_ACHIVE_VALUE = arrayElement.Target.ACHIVE_VALUE;
                                    item.Ashoj_QUANTITY_ACHIVE = arrayElement.Target.QUANTITY_ACHIVE;
                                    item.Ashoj_TARGET_QUANTITY = arrayElement.Target.TARGET_QUANTITY;
                                    item.Ashoj_TARGET_VALUE = arrayElement.Target.TARGET_VALUE;
                                }
                                else if (arrayElement.MONTH_NAME == 'Kartik') {
                                    item.Kartik_ACHIVE_VALUE = arrayElement.Target.ACHIVE_VALUE;
                                    item.Kartik_QUANTITY_ACHIVE = arrayElement.Target.QUANTITY_ACHIVE;
                                    item.Kartik_TARGET_QUANTITY = arrayElement.Target.TARGET_QUANTITY;
                                    item.Kartik_TARGET_VALUE = arrayElement.Target.TARGET_VALUE;
                                }
                                else if (arrayElement.MONTH_NAME == 'Mangsir') {
                                    item.Mangsir_ACHIVE_VALUE = arrayElement.Target.ACHIVE_VALUE;
                                    item.Mangsir_QUANTITY_ACHIVE = arrayElement.Target.QUANTITY_ACHIVE;
                                    item.Mangsir_TARGET_QUANTITY = arrayElement.Target.TARGET_QUANTITY;
                                    item.Mangsir_TARGET_VALUE = arrayElement.Target.TARGET_VALUE;
                                }
                                else if (arrayElement.MONTH_NAME == 'Poush') {
                                    item.Poush_ACHIVE_VALUE = arrayElement.Target.ACHIVE_VALUE;
                                    item.Poush_QUANTITY_ACHIVE = arrayElement.Target.QUANTITY_ACHIVE;
                                    item.Poush_TARGET_QUANTITY = arrayElement.Target.TARGET_QUANTITY;
                                    item.Poush_TARGET_VALUE = arrayElement.Target.TARGET_VALUE;
                                }
                                else if (arrayElement.MONTH_NAME == 'Magh') {
                                    item.Magh_ACHIVE_VALUE = arrayElement.Target.ACHIVE_VALUE;
                                    item.Magh_QUANTITY_ACHIVE = arrayElement.Target.QUANTITY_ACHIVE;
                                    item.Magh_TARGET_QUANTITY = arrayElement.Target.TARGET_QUANTITY;
                                    item.Magh_TARGET_VALUE = arrayElement.Target.TARGET_VALUE;
                                }
                                else if (arrayElement.MONTH_NAME == 'Falgun') {
                                    item.Falgun_ACHIVE_VALUE = arrayElement.Target.ACHIVE_VALUE;
                                    item.Falgun_QUANTITY_ACHIVE = arrayElement.Target.QUANTITY_ACHIVE;
                                    item.Falgun_TARGET_QUANTITY = arrayElement.Target.TARGET_QUANTITY;
                                    item.Falgun_TARGET_VALUE = arrayElement.Target.TARGET_VALUE;
                                }
                                else if (arrayElement.MONTH_NAME == 'Chaitra') {
                                    item.Chaitra_ACHIVE_VALUE = arrayElement.Target.ACHIVE_VALUE;
                                    item.Chaitra_QUANTITY_ACHIVE = arrayElement.Target.QUANTITY_ACHIVE;
                                    item.Chaitra_TARGET_QUANTITY = arrayElement.Target.TARGET_QUANTITY;
                                    item.Chaitra_TARGET_VALUE = arrayElement.Target.TARGET_VALUE;
                                }

                            });
                            result.push(item);
                        });
                        debugger;
                        return result;
                    }
                },
                //model: {
                //    fields: {
                //        ITEM_EDESC: { type: "string" },
                //        Baishakh_TARGET_QUANTITY: { type: "number" },
                //        Baishakh_QUANTITY_ACHIVE: { type: "number" },
                //        ROUTE_NAME: { type: "string" },
                //        TARGET: { type: "number" },
                //        VISITED: { type: "number" },
                //        NOT_VISITED: { type: "number" },
                //        PJP_PRODUCTIVE: { type: "number" },
                //        PJP_NON_PRODUCTIVE: { type: "number" },
                //        TOTAL_PJP: { type: "number" },
                //        EXTRA: { type: "number" },
                //        PERCENT_EFFECTIVE_CALLS: { type: "number" },
                //        PERCENT_PRODUCTIVE_CALLS: { type: "number" },
                //        TOTAL_QUENTITY: { type: "number" },
                //        TOTAL_AMOUNT: { type: "number" },
                //        WORKING_HOURS: { type: "number" },
                //        EOD_TIME: { type: "string" },
                //        ATN_TIME: { type: "string" },
                //        typeTotal: { type: "number" },
                //        subTypeTotal: { type: "number" },
                //        brandTotal: { type: "number" },
                //        brandTotalAmt: { type: "number" },

                //    },
                //},
                pageSize: 10,
                //group: {
                //    field: "ITEM_EDESC", aggregates: [
                //        { field: "TARGET_QUANTITY", aggregate: "sum" },
                //        { field: "TARGET_VALUE", aggregate: "sum" },
                //        { field: "QUANTITY_ACHIVE", aggregate: "sum" },
                //        { field: "ACHIVE_VALUE", aggregate: "sum" }
                //    ]
                //},

                aggregate: [
                    { field: "Baishakh_TARGET_QUANTITY", aggregate: "sum" },
                    { field: "Baishakh_QUANTITY_ACHIVE", aggregate: "sum" },
                    { field: "Baishakh_ACHIVE_VALUE", aggregate: "sum" },
                    { field: "Baishakh_TARGET_VALUE", aggregate: "sum" },
                    { field: "Jestha_TARGET_QUANTITY", aggregate: "sum" },
                    { field: "Jestha_QUANTITY_ACHIVE", aggregate: "sum" },
                    { field: "Jestha_ACHIVE_VALUE", aggregate: "sum" },
                    { field: "Jestha_TARGET_VALUE", aggregate: "sum" },
                    { field: "Ashadh_TARGET_QUANTITY", aggregate: "sum" },
                    { field: "Ashadh_QUANTITY_ACHIVE", aggregate: "sum" },
                    { field: "Ashadh_ACHIVE_VALUE", aggregate: "sum" },
                    { field: "Ashadh_TARGET_VALUE", aggregate: "sum" },
                    { field: "Sharwan_TARGET_QUANTITY", aggregate: "sum" },
                    { field: "Sharwan_QUANTITY_ACHIVE", aggregate: "sum" },
                    { field: "Sharwan_ACHIVE_VALUE", aggregate: "sum" },
                    { field: "Sharwan_TARGET_VALUE", aggregate: "sum" },
                    { field: "Bhadra_TARGET_QUANTITY", aggregate: "sum" },
                    { field: "Bhadra_QUANTITY_ACHIVE", aggregate: "sum" },
                    { field: "Bhadra_ACHIVE_VALUE", aggregate: "sum" },
                    { field: "Bhadra_TARGET_VALUE", aggregate: "sum" },
                    { field: "Ashoj_TARGET_QUANTITY", aggregate: "sum" },
                    { field: "Ashoj_QUANTITY_ACHIVE", aggregate: "sum" },
                    { field: "Ashoj_ACHIVE_VALUE", aggregate: "sum" },
                    { field: "Ashoj_TARGET_VALUE", aggregate: "sum" },
                    { field: "Kartik_TARGET_QUANTITY", aggregate: "sum" },
                    { field: "Kartik_QUANTITY_ACHIVE", aggregate: "sum" },
                    { field: "Kartik_ACHIVE_VALUE", aggregate: "sum" },
                    { field: "Kartik_TARGET_VALUE", aggregate: "sum" },
                    { field: "Mangsir_TARGET_QUANTITY", aggregate: "sum" },
                    { field: "Mangsir_QUANTITY_ACHIVE", aggregate: "sum" },
                    { field: "Mangsir_ACHIVE_VALUE", aggregate: "sum" },
                    { field: "Mangsir_TARGET_VALUE", aggregate: "sum" },
                    { field: "Poush_TARGET_QUANTITY", aggregate: "sum" },
                    { field: "Poush_QUANTITY_ACHIVE", aggregate: "sum" },
                    { field: "Poush_ACHIVE_VALUE", aggregate: "sum" },
                    { field: "Poush_TARGET_VALUE", aggregate: "sum" },
                    { field: "Magh_TARGET_QUANTITY", aggregate: "sum" },
                    { field: "Magh_QUANTITY_ACHIVE", aggregate: "sum" },
                    { field: "Magh_ACHIVE_VALUE", aggregate: "sum" },
                    { field: "Magh_TARGET_VALUE", aggregate: "sum" },
                    { field: "Falgun_TARGET_QUANTITY", aggregate: "sum" },
                    { field: "Falgun_QUANTITY_ACHIVE", aggregate: "sum" },
                    { field: "Falgun_ACHIVE_VALUE", aggregate: "sum" },
                    { field: "Falgun_TARGET_VALUE", aggregate: "sum" },
                    { field: "Chaitra_TARGET_QUANTITY", aggregate: "sum" },
                    { field: "Chaitra_QUANTITY_ACHIVE", aggregate: "sum" },
                    { field: "Chaitra_ACHIVE_VALUE", aggregate: "sum" },
                    { field: "Chaitra_TARGET_VALUE", aggregate: "sum" }
                    ],
                    
                pageSize: reportConfig.defaultPageSize,

            },
            toolbar: kendo.template($("#toolbar-template").html()),
            excel: {
                fileName: "Sales Target vs Customer Achievement",
                allPages: true,
            },
            
            groupable: true,
            sortable: true,
            height: 500,
            selectable: false,
            resizable: true,
            filterable: {
                extra: false,
                operators: {
                    number: {
                        eq: "Is equal to",
                        neq: "Is not equal to",
                        gte: "is greater than or equal to	",
                        gt: "is greater than",
                        lte: "is less than or equal",
                        lt: "is less than",
                    },
                    string: {

                        eq: "Is equal to",
                        neq: "Is not equal to",
                        startswith: "Starts with	",
                        contains: "Contains",
                        doesnotcontain: "Does not contain",
                        endswith: "Ends with",
                    },
                    date: {
                        eq: "Is equal to",
                        neq: "Is not equal to",
                        gte: "Is after or equal to",
                        gt: "Is after",
                        lte: "Is before or equal to",
                        lt: "Is before",
                    }
                }
            },
            columnMenu: true,
            columnMenuInit: function (e) {
                wordwrapmenu(e);
                checkboxItem = $(e.container).find('input[type="checkbox"]');
            },
            dataBound: function (e) {
                var grid = $("#grid").data("kendoGrid");

                if (grid.dataSource.total() == 0) {

                    var colCount = grid.columns.length;
                    $(e.sender.wrapper)
                        .find('tbody')
                        .append('<tr class="kendo-data-row" style="font-size:12px;"><td colspan="' + colCount + '" class="alert alert-danger">Sorry, no data :(</td></tr>');
                    displayPopupNotification("No Data Found Given Date Filter.", "info");
                }



                UpdateReportUsingSetting("SchemeReport", "grid");
                $('div').removeClass('.k-header k-grid-toolbar');
            },
            columnShow: function (e) {
                if ($(".k-widget.k-reset.k-header.k-menu.k-menu-vertical").is(":visible") && checkboxItem != "")
                    SaveReportSetting('SchemeReport', 'grid');
            },
            columnHide: function (e) {
                if ($(".k-widget.k-reset.k-header.k-menu.k-menu-vertical").is(":visible") && checkboxItem != "")
                    SaveReportSetting('SchemeReport', 'grid');
            },
            pageable: {
                refresh: true,
                pageSizes: reportConfig.itemPerPage,
                buttonCount: 5
            },
            columns: [

                {
                    field: "ITEM_EDESC",
                    title: "Item Name",
                    width: 200
                },
                {
                    title: "Baishakh",
                    attributes: {
                        style: "text-align: center;"
                    },
                    columns: [{
                        field: "Baishakh_TARGET_QUANTITY",
                        title: "Target Quantity",
                        template:"#= data.Baishakh_TARGET_QUANTITY==null?0:data.Baishakh_TARGET_QUANTITY #", //used data. here because it was thorwing error of undefined
                        aggregates: ["sum"],                        
                        footerTemplate: "#=sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum.toFixed(2)#",
                        width: 100
                    },
                    {
                        field: "Baishakh_TARGET_VALUE",
                        title: "Target Amount",
                        template: "#= data.Baishakh_TARGET_VALUE==null?0:data.Baishakh_TARGET_VALUE #",
                        aggregates: ["sum"],
                        footerTemplate: "#=sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum.toFixed(2)#",
                        width: 100,
                        
                    },
                    {
                        field: "Baishakh_QUANTITY_ACHIVE",
                        title: "Purchase Quantity",
                        template: "#= data.Baishakh_QUANTITY_ACHIVE==null?0:data.Baishakh_QUANTITY_ACHIVE #",
                        aggregates: ["sum"],
                        footerTemplate: "#=sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum.toFixed(2)#",
                        width: 100
                    },
                    {
                        field: "Baishakh_ACHIVE_VALUE",
                        title: "Purchase Amount",
                        template: "#= data.Baishakh_QUANTITY_ACHIVE==null?0:data.Baishakh_QUANTITY_ACHIVE #",
                        footerTemplate: "#=sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum.toFixed(2)#",
                        aggregates: ["sum"],
                        width: 100
                    },
                    {
                        title: "Achievement %",                        
                        width: 100,
                        template: '#= data.Baishakh_TARGET_QUANTITY == 0 ? 0: ((data.Baishakh_QUANTITY_ACHIVE/data.Baishakh_TARGET_QUANTITY) * 100).toFixed(2) #%',
                        footerTemplate: function (e) {
                           
                            per = e.Baishakh_TARGET_QUANTITY.sum == 0 ? 0 : ((e.Baishakh_QUANTITY_ACHIVE.sum / e.Baishakh_TARGET_QUANTITY.sum) * 100).toFixed(2);
                            return per + '%';
                        },
                        groupFooterTemplate: function (e) {
                           
                            per = e.Baishakh_TARGET_QUANTITY.sum == 0 ? 0 : ((e.Baishakh_QUANTITY_ACHIVE.sum / e.Baishakh_TARGET_QUANTITY.sum) * 100).toFixed(2);
                            return per + '%';
                        },                        
                        }
                    ]
                },
                {
                    title: "Jestha",
                    columns: [{
                        field: "Jestha_TARGET_QUANTITY",
                        title: "Target Quantity",
                        template: "#= data.Jestha_TARGET_QUANTITY==null?0:data.Jestha_TARGET_QUANTITY #", //used data. here because it was thorwing error of undefined
                        aggregates: ["sum"],
                        footerTemplate: "#=sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum.toFixed(2)#",
                        width: 100
                    },
                    {
                        field: "Jestha_TARGET_VALUE",
                        title: "Target Amount",
                        template: "#= data.Jestha_TARGET_VALUE==null?0:data.Jestha_TARGET_VALUE #",
                        aggregates: ["sum"],
                        footerTemplate: "#=sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum.toFixed(2)#",
                        width: 100,

                    },
                    {
                        field: "Jestha_QUANTITY_ACHIVE",
                        title: "Purchase Quantity",
                        template: "#= data.Jestha_QUANTITY_ACHIVE==null?0:data.Jestha_QUANTITY_ACHIVE #",
                        aggregates: ["sum"],
                        footerTemplate: "#=sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum.toFixed(2)#",
                        width: 100
                    },
                    {
                        field: "Jestha_ACHIVE_VALUE",
                        title: "Purchase Amount",
                        template: "#= data.Jestha_QUANTITY_ACHIVE==null?0:data.Jestha_QUANTITY_ACHIVE #",
                        footerTemplate: "#=sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum.toFixed(2)#",
                        aggregates: ["sum"],
                        width: 100
                    },
                    {
                        title: "Achievement %",
                        width: 100,
                        template: '#= data.Jestha_TARGET_QUANTITY == 0 ? 0: ((data.Jestha_QUANTITY_ACHIVE/data.Jestha_TARGET_QUANTITY) * 100).toFixed(2) #%',
                        footerTemplate: function (e) {

                            per = e.Jestha_TARGET_QUANTITY.sum == 0 ? 0 : ((e.Jestha_QUANTITY_ACHIVE.sum / e.Jestha_TARGET_QUANTITY.sum) * 100).toFixed(2);
                            return per + '%';
                        },
                        groupFooterTemplate: function (e) {

                            per = e.Jestha_TARGET_QUANTITY.sum == 0 ? 0 : ((e.Jestha_QUANTITY_ACHIVE.sum / e.Jestha_TARGET_QUANTITY.sum) * 100).toFixed(2);
                            return per + '%';
                        },
                    }
                    ]
                    
                },
                {
                    title: "Ashadh",
                    columns: [{
                        field: "Ashadh_TARGET_QUANTITY",
                        title: "Target Quantity",
                        template: "#= data.Ashadh_TARGET_QUANTITY==null?0:data.Ashadh_TARGET_QUANTITY #", //used data. here because it was thorwing error of undefined
                        aggregates: ["sum"],
                        footerTemplate: "#=sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum.toFixed(2)#",
                        width: 100
                    },
                    {
                        field: "Ashadh_TARGET_VALUE",
                        title: "Target Amount",
                        template: "#= data.Ashadh_TARGET_VALUE==null?0:data.Ashadh_TARGET_VALUE #",
                        aggregates: ["sum"],
                        footerTemplate: "#=sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum.toFixed(2)#",
                        width: 100,

                    },
                    {
                        field: "Ashadh_QUANTITY_ACHIVE",
                        title: "Purchase Quantity",
                        template: "#= data.Ashadh_QUANTITY_ACHIVE==null?0:data.Ashadh_QUANTITY_ACHIVE #",
                        aggregates: ["sum"],
                        footerTemplate: "#=sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum.toFixed(2)#",
                        width: 100
                    },
                    {
                        field: "Ashadh_ACHIVE_VALUE",
                        title: "Purchase Amount",
                        template: "#= data.Ashadh_QUANTITY_ACHIVE==null?0:data.Ashadh_QUANTITY_ACHIVE #",
                        footerTemplate: "#=sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum.toFixed(2)#",
                        aggregates: ["sum"],
                        width: 100
                    },
                    {
                        title: "Achievement %",
                        width: 100,
                        template: '#= data.Ashadh_TARGET_QUANTITY == 0 ? 0: ((data.Ashadh_QUANTITY_ACHIVE/data.Ashadh_TARGET_QUANTITY) * 100).toFixed(2) #%',
                        footerTemplate: function (e) {

                            per = e.Ashadh_TARGET_QUANTITY.sum == 0 ? 0 : ((e.Ashadh_QUANTITY_ACHIVE.sum / e.Ashadh_TARGET_QUANTITY.sum) * 100).toFixed(2);
                            return per + '%';
                        },
                        groupFooterTemplate: function (e) {

                            per = e.Ashadh_TARGET_QUANTITY.sum == 0 ? 0 : ((e.Ashadh_QUANTITY_ACHIVE.sum / e.Ashadh_TARGET_QUANTITY.sum) * 100).toFixed(2);
                            return per + '%';
                        },
                    }
                    ]
                },
                {
                    title: "Sharwan",
                    columns: [{
                        field: "Sharwan_TARGET_QUANTITY",
                        title: "Target Quantity",
                        template: "#= data.Sharwan_TARGET_QUANTITY==null?0:data.Sharwan_TARGET_QUANTITY #", //used data. here because it was thorwing error of undefined
                        aggregates: ["sum"],
                        footerTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        width: 100
                    },
                    {
                        field: "Sharwan_TARGET_VALUE",
                        title: "Target Amount",
                        template: "#= data.Sharwan_TARGET_VALUE==null?0:data.Sharwan_TARGET_VALUE #",
                        aggregates: ["sum"],
                        footerTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        width: 100,

                    },
                    {
                        field: "Sharwan_QUANTITY_ACHIVE",
                        title: "Purchase Quantity",
                        template: "#= data.Sharwan_QUANTITY_ACHIVE==null?0:data.Sharwan_QUANTITY_ACHIVE #",
                        aggregates: ["sum"],
                        footerTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        width: 100
                    },
                    {
                        field: "Sharwan_ACHIVE_VALUE",
                        title: "Purchase Amount",
                        template: "#= data.Sharwan_QUANTITY_ACHIVE==null?0:data.Sharwan_QUANTITY_ACHIVE #",
                        footerTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        aggregates: ["sum"],
                        width: 100
                    },
                    {
                        title: "Achievement %",
                        width: 100,
                        template: '#= data.Sharwan_TARGET_QUANTITY == 0 ? 0: ((data.Sharwan_QUANTITY_ACHIVE/data.Sharwan_TARGET_QUANTITY) * 100).toFixed(2) #%',
                        footerTemplate: function (e) {

                            per = e.Sharwan_TARGET_QUANTITY.sum == 0 ? 0 : ((e.Sharwan_QUANTITY_ACHIVE.sum / e.Sharwan_TARGET_QUANTITY.sum) * 100).toFixed(2);
                            return per + '%';
                        },
                        groupFooterTemplate: function (e) {

                            per = e.Sharwan_TARGET_QUANTITY.sum == 0 ? 0 : ((e.Sharwan_QUANTITY_ACHIVE.sum / e.Sharwan_TARGET_QUANTITY.sum) * 100).toFixed(2);
                            return per + '%';
                        },
                    }
                    ]
                    
                },
                {
                    title: "Bhadra",
                    columns: [{
                        field: "Bhadra_TARGET_QUANTITY",
                        title: "Target Quantity",
                        template: "#= data.Bhadra_TARGET_QUANTITY==null?0:data.Bhadra_TARGET_QUANTITY #", //used data. here because it was thorwing error of undefined
                        aggregates: ["sum"],
                        footerTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        width: 100
                    },
                    {
                        field: "Bhadra_TARGET_VALUE",
                        title: "Target Amount",
                        template: "#= data.Bhadra_TARGET_VALUE==null?0:data.Bhadra_TARGET_VALUE #",
                        aggregates: ["sum"],
                        footerTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        width: 100,

                    },
                    {
                        field: "Bhadra_QUANTITY_ACHIVE",
                        title: "Purchase Quantity",
                        template: "#= data.Bhadra_QUANTITY_ACHIVE==null?0:data.Bhadra_QUANTITY_ACHIVE #",
                        aggregates: ["sum"],
                        footerTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        width: 100
                    },
                    {
                        field: "Bhadra_ACHIVE_VALUE",
                        title: "Purchase Amount",
                        template: "#= data.Bhadra_QUANTITY_ACHIVE==null?0:data.Bhadra_QUANTITY_ACHIVE #",
                        footerTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        aggregates: ["sum"],
                        width: 100
                    },
                    {
                        title: "Achievement %",
                        width: 100,
                        template: '#= data.Bhadra_TARGET_QUANTITY == 0 ? 0: ((data.Bhadra_QUANTITY_ACHIVE/data.Bhadra_TARGET_QUANTITY) * 100).toFixed(2) #%',
                        footerTemplate: function (e) {

                            per = e.Bhadra_TARGET_QUANTITY.sum == 0 ? 0 : ((e.Bhadra_QUANTITY_ACHIVE.sum / e.Bhadra_TARGET_QUANTITY.sum) * 100).toFixed(2);
                            return per + '%';
                        },
                        groupFooterTemplate: function (e) {

                            per = e.Bhadra_TARGET_QUANTITY.sum == 0 ? 0 : ((e.Bhadra_QUANTITY_ACHIVE.sum / e.Bhadra_TARGET_QUANTITY.sum) * 100).toFixed(2);
                            return per + '%';
                        },
                    }
                    ]
                },
                {
                    title: "Ashoj",
                    columns: [{
                        field: "Ashoj_TARGET_QUANTITY",
                        title: "Target Quantity",
                        template: "#= data.Ashoj_TARGET_QUANTITY==null?0:data.Ashoj_TARGET_QUANTITY #", //used data. here because it was thorwing error of undefined
                        aggregates: ["sum"],
                        footerTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        width: 100
                    },
                    {
                        field: "Ashoj_TARGET_VALUE",
                        title: "Target Amount",
                        template: "#= data.Ashoj_TARGET_VALUE==null?0:data.Ashoj_TARGET_VALUE #",
                        aggregates: ["sum"],
                        footerTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        width: 100,

                    },
                    {
                        field: "Ashoj_QUANTITY_ACHIVE",
                        title: "Purchase Quantity",
                        template: "#= data.Ashoj_QUANTITY_ACHIVE==null?0:data.Ashoj_QUANTITY_ACHIVE #",
                        aggregates: ["sum"],
                        footerTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        width: 100
                    },
                    {
                        field: "Ashoj_ACHIVE_VALUE",
                        title: "Purchase Amount",
                        template: "#= data.Ashoj_QUANTITY_ACHIVE==null?0:data.Ashoj_QUANTITY_ACHIVE #",
                        footerTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        aggregates: ["sum"],
                        width: 100
                    },
                    {
                        title: "Achievement %",
                        width: 100,
                        template: '#= data.Ashoj_TARGET_QUANTITY == 0 ? 0: ((data.Ashoj_QUANTITY_ACHIVE/data.Ashoj_TARGET_QUANTITY) * 100).toFixed(2) #%',
                        footerTemplate: function (e) {

                            per = e.Ashoj_TARGET_QUANTITY.sum == 0 ? 0 : ((e.Ashoj_QUANTITY_ACHIVE.sum / e.Ashoj_TARGET_QUANTITY.sum) * 100).toFixed(2);
                            return per + '%';
                        },
                        groupFooterTemplate: function (e) {

                            per = e.Ashoj_TARGET_QUANTITY.sum == 0 ? 0 : ((e.Ashoj_QUANTITY_ACHIVE.sum / e.Ashoj_TARGET_QUANTITY.sum) * 100).toFixed(2);
                            return per + '%';
                        },
                    }
                    ]
                },
                {
                    title: "Kartik",
                    columns: [{
                        field: "Kartik_TARGET_QUANTITY",
                        title: "Target Quantity",
                        template: "#= data.Kartik_TARGET_QUANTITY==null?0:data.Kartik_TARGET_QUANTITY #", //used data. here because it was thorwing error of undefined
                        aggregates: ["sum"],
                        footerTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        width: 100
                    },
                    {
                        field: "Kartik_TARGET_VALUE",
                        title: "Target Amount",
                        template: "#= data.Kartik_TARGET_VALUE==null?0:data.Kartik_TARGET_VALUE #",
                        aggregates: ["sum"],
                        footerTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        width: 100,

                    },
                    {
                        field: "Kartik_QUANTITY_ACHIVE",
                        title: "Purchase Quantity",
                        template: "#= data.Kartik_QUANTITY_ACHIVE==null?0:data.Kartik_QUANTITY_ACHIVE #",
                        aggregates: ["sum"],
                        footerTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        width: 100
                    },
                    {
                        field: "Kartik_ACHIVE_VALUE",
                        title: "Purchase Amount",
                        template: "#= data.Kartik_QUANTITY_ACHIVE==null?0:data.Kartik_QUANTITY_ACHIVE #",
                        footerTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        aggregates: ["sum"],
                        width: 100
                    },
                    {
                        title: "Achievement %",
                        width: 100,
                        template: '#= data.Kartik_TARGET_QUANTITY == 0 ? 0: ((data.Kartik_QUANTITY_ACHIVE/data.Kartik_TARGET_QUANTITY) * 100).toFixed(2) #%',
                        footerTemplate: function (e) {

                            per = e.Kartik_TARGET_QUANTITY.sum == 0 ? 0 : ((e.Kartik_QUANTITY_ACHIVE.sum / e.Kartik_TARGET_QUANTITY.sum) * 100).toFixed(2);
                            return per + '%';
                        },
                        groupFooterTemplate: function (e) {

                            per = e.Kartik_TARGET_QUANTITY.sum == 0 ? 0 : ((e.Kartik_QUANTITY_ACHIVE.sum / e.Kartik_TARGET_QUANTITY.sum) * 100).toFixed(2);
                            return per + '%';
                        },
                    }
                    ]
                    
                },
                {
                    title: "Mangsir",
                    columns: [{
                        field: "Mangsir_TARGET_QUANTITY",
                        title: "Target Quantity",
                        template: "#= data.Mangsir_TARGET_QUANTITY==null?0:data.Mangsir_TARGET_QUANTITY #", //used data. here because it was thorwing error of undefined
                        aggregates: ["sum"],
                        footerTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        width: 100
                    },
                    {
                        field: "Mangsir_TARGET_VALUE",
                        title: "Target Amount",
                        template: "#= data.Mangsir_TARGET_VALUE==null?0:data.Mangsir_TARGET_VALUE #",
                        aggregates: ["sum"],
                        footerTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        width: 100,

                    },
                    {
                        field: "Mangsir_QUANTITY_ACHIVE",
                        title: "Purchase Quantity",
                        template: "#= data.Mangsir_QUANTITY_ACHIVE==null?0:data.Mangsir_QUANTITY_ACHIVE #",
                        aggregates: ["sum"],
                        footerTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        width: 100
                    },
                    {
                        field: "Mangsir_ACHIVE_VALUE",
                        title: "Purchase Amount",
                        template: "#= data.Mangsir_QUANTITY_ACHIVE==null?0:data.Mangsir_QUANTITY_ACHIVE #",
                        footerTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        aggregates: ["sum"],
                        width: 100
                    },
                    {
                        title: "Achievement %",
                        width: 100,
                        template: '#= data.Mangsir_TARGET_QUANTITY == 0 ? 0: ((data.Mangsir_QUANTITY_ACHIVE/data.Mangsir_TARGET_QUANTITY) * 100).toFixed(2) #%',
                        footerTemplate: function (e) {

                            per = e.Mangsir_TARGET_QUANTITY.sum == 0 ? 0 : ((e.Mangsir_QUANTITY_ACHIVE.sum / e.Mangsir_TARGET_QUANTITY.sum) * 100).toFixed(2);
                            return per + '%';
                        },
                        groupFooterTemplate: function (e) {

                            per = e.Mangsir_TARGET_QUANTITY.sum == 0 ? 0 : ((e.Mangsir_QUANTITY_ACHIVE.sum / e.Mangsir_TARGET_QUANTITY.sum) * 100).toFixed(2);
                            return per + '%';
                        },
                    }
                    ]
                },
                {
                    title: "Poush",
                    columns: [{
                        field: "Poush_TARGET_QUANTITY",
                        title: "Target Quantity",
                        template: "#= data.Poush_TARGET_QUANTITY==null?0:data.Poush_TARGET_QUANTITY #", //used data. here because it was thorwing error of undefined
                        aggregates: ["sum"],
                        footerTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        width: 100
                    },
                    {
                        field: "Poush_TARGET_VALUE",
                        title: "Target Amount",
                        template: "#= data.Poush_TARGET_VALUE==null?0:data.Poush_TARGET_VALUE #",
                        aggregates: ["sum"],
                        footerTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        width: 100,

                    },
                    {
                        field: "Poush_QUANTITY_ACHIVE",
                        title: "Purchase Quantity",
                        template: "#= data.Poush_QUANTITY_ACHIVE==null?0:data.Poush_QUANTITY_ACHIVE #",
                        aggregates: ["sum"],
                        footerTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        width: 100
                    },
                    {
                        field: "Poush_ACHIVE_VALUE",
                        title: "Purchase Amount",
                        template: "#= data.Poush_QUANTITY_ACHIVE==null?0:data.Poush_QUANTITY_ACHIVE #",
                        footerTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        aggregates: ["sum"],
                        width: 100
                    },
                    {
                        title: "Achievement %",
                        width: 100,
                        template: '#= data.Poush_TARGET_QUANTITY == 0 ? 0: ((data.Poush_QUANTITY_ACHIVE/data.Poush_TARGET_QUANTITY) * 100).toFixed(2) #%',
                        footerTemplate: function (e) {

                            per = e.Poush_TARGET_QUANTITY.sum == 0 ? 0 : ((e.Poush_QUANTITY_ACHIVE.sum / e.Poush_TARGET_QUANTITY.sum) * 100).toFixed(2);
                            return per + '%';
                        },
                        groupFooterTemplate: function (e) {

                            per = e.Poush_TARGET_QUANTITY.sum == 0 ? 0 : ((e.Poush_QUANTITY_ACHIVE.sum / e.Poush_TARGET_QUANTITY.sum) * 100).toFixed(2);
                            return per + '%';
                        },
                    }
                    ]
                },
                {
                    title: "Magh",
                    columns: [{
                        field: "Magh_TARGET_QUANTITY",
                        title: "Target Quantity",
                        template: "#= data.Magh_TARGET_QUANTITY==null?0:data.Magh_TARGET_QUANTITY #", //used data. here because it was thorwing error of undefined
                        aggregates: ["sum"],
                        footerTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        width: 100
                    },
                    {
                        field: "Magh_TARGET_VALUE",
                        title: "Target Amount",
                        template: "#= data.Magh_TARGET_VALUE==null?0:data.Magh_TARGET_VALUE #",
                        aggregates: ["sum"],
                        footerTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        width: 100,

                    },
                    {
                        field: "Magh_QUANTITY_ACHIVE",
                        title: "Purchase Quantity",
                        template: "#= data.Magh_QUANTITY_ACHIVE==null?0:data.Magh_QUANTITY_ACHIVE #",
                        aggregates: ["sum"],
                        footerTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        width: 100
                    },
                    {
                        field: "Magh_ACHIVE_VALUE",
                        title: "Purchase Amount",
                        template: "#= data.Magh_QUANTITY_ACHIVE==null?0:data.Magh_QUANTITY_ACHIVE #",
                        footerTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        aggregates: ["sum"],
                        width: 100
                    },
                    {
                        title: "Achievement %",
                        width: 100,
                        template: '#= data.Magh_TARGET_QUANTITY == 0 ? 0: ((data.Magh_QUANTITY_ACHIVE/data.Magh_TARGET_QUANTITY) * 100).toFixed(2) #%',
                        footerTemplate: function (e) {

                            per = e.Magh_TARGET_QUANTITY.sum == 0 ? 0 : ((e.Magh_QUANTITY_ACHIVE.sum / e.Magh_TARGET_QUANTITY.sum) * 100).toFixed(2);
                            return per + '%';
                        },
                        groupFooterTemplate: function (e) {

                            per = e.Magh_TARGET_QUANTITY.sum == 0 ? 0 : ((e.Magh_QUANTITY_ACHIVE.sum / e.Magh_TARGET_QUANTITY.sum) * 100).toFixed(2);
                            return per + '%';
                        },
                    }
                    ]
                },   
                {
                    title: "Falgun",
                    columns: [{
                        field: "Falgun_TARGET_QUANTITY",
                        title: "Target Quantity",
                        template: "#= data.Falgun_TARGET_QUANTITY==null?0:data.Falgun_TARGET_QUANTITY #", //used data. here because it was thorwing error of undefined
                        aggregates: ["sum"],
                        footerTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        width: 100
                    },
                    {
                        field: "Falgun_TARGET_VALUE",
                        title: "Target Amount",
                        template: "#= data.Falgun_TARGET_VALUE==null?0:data.Falgun_TARGET_VALUE #",
                        aggregates: ["sum"],
                        footerTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        width: 100,

                    },
                    {
                        field: "Falgun_QUANTITY_ACHIVE",
                        title: "Purchase Quantity",
                        template: "#= data.Falgun_QUANTITY_ACHIVE==null?0:data.Falgun_QUANTITY_ACHIVE #",
                        aggregates: ["sum"],
                        footerTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        width: 100
                    },
                    {
                        field: "Falgun_ACHIVE_VALUE",
                        title: "Purchase Amount",
                        template: "#= data.Falgun_QUANTITY_ACHIVE==null?0:data.Falgun_QUANTITY_ACHIVE #",
                        footerTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        aggregates: ["sum"],
                        width: 100
                    },
                    {
                        title: "Achievement %",
                        width: 100,
                        template: '#= data.Falgun_TARGET_QUANTITY == 0 ? 0: ((data.Falgun_QUANTITY_ACHIVE/data.Falgun_TARGET_QUANTITY) * 100).toFixed(2) #%',
                        footerTemplate: function (e) {

                            per = e.Falgun_TARGET_QUANTITY.sum == 0 ? 0 : ((e.Falgun_QUANTITY_ACHIVE.sum / e.Falgun_TARGET_QUANTITY.sum) * 100).toFixed(2);
                            return per + '%';
                        },
                        groupFooterTemplate: function (e) {

                            per = e.Falgun_TARGET_QUANTITY.sum == 0 ? 0 : ((e.Falgun_QUANTITY_ACHIVE.sum / e.Falgun_TARGET_QUANTITY.sum) * 100).toFixed(2);
                            return per + '%';
                        },
                    }
                    ]
                },
                {
                    title: "Chaitra",
                    columns: [{
                        field: "Chaitra_TARGET_QUANTITY",
                        title: "Target Quantity",
                        template: "#= data.Chaitra_TARGET_QUANTITY==null?0:data.Chaitra_TARGET_QUANTITY #", //used data. here because it was thorwing error of undefined
                        aggregates: ["sum"],
                        footerTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        width: 100
                    },
                    {
                        field: "Chaitra_TARGET_VALUE",
                        title: "Target Amount",
                        template: "#= data.Chaitra_TARGET_VALUE==null?0:data.Chaitra_TARGET_VALUE #",
                        aggregates: ["sum"],
                        footerTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        width: 100,

                    },
                    {
                        field: "Chaitra_QUANTITY_ACHIVE",
                        title: "Purchase Quantity",
                        template: "#= data.Chaitra_QUANTITY_ACHIVE==null?0:data.Chaitra_QUANTITY_ACHIVE #",
                        aggregates: ["sum"],
                        footerTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        width: 100
                    },
                    {
                        field: "Chaitra_ACHIVE_VALUE",
                        title: "Purchase Amount",
                        template: "#= data.Chaitra_QUANTITY_ACHIVE==null?0:data.Chaitra_QUANTITY_ACHIVE #",
                        footerTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        groupFooterTemplate: "#=sum==undefined?0:sum.toFixed(2)#",
                        aggregates: ["sum"],
                        width: 100
                    },
                    {
                        title: "Achievement %",
                        width: 100,
                        template: '#= data.Chaitra_TARGET_QUANTITY == 0 ? 0: ((data.Chaitra_QUANTITY_ACHIVE/data.Chaitra_TARGET_QUANTITY) * 100).toFixed(2) #%',
                        footerTemplate: function (e) {

                            per = e.Chaitra_TARGET_QUANTITY.sum == 0 ? 0 : ((e.Chaitra_QUANTITY_ACHIVE.sum / e.Chaitra_TARGET_QUANTITY.sum) * 100).toFixed(2);
                            return per + '%';
                        },
                        groupFooterTemplate: function (e) {

                            per = e.Chaitra_TARGET_QUANTITY.sum == 0 ? 0 : ((e.Chaitra_QUANTITY_ACHIVE.sum / e.Chaitra_TARGET_QUANTITY.sum) * 100).toFixed(2);
                            return per + '%';
                        },
                    }
                    ]
                }
            ]
        });
    }
    function RefreshGrid() {
        var gird = $("#grid").data("kendoGrid");
        $('#grid').data().kendoGrid.destroy();
        $('#grid').empty();
        dataBind();
    }
    dataBind();


    $(".applydp").on("click", function (evt) {
        evt.preventDefault();
        RefreshGrid();
    });


    $("#RunQuery").click(function (evt) {
        evt.preventDefault();
        RefreshGrid();
    });

    $("#loadAdvancedFilters").click(function (evt) {
        evt.preventDefault();
        RefreshGrid();
    });
</script>

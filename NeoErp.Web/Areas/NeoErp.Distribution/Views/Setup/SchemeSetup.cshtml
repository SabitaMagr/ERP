
@{
    ViewBag.Title = "SchemeSetup";
    Layout = null;
}


<style>
    .loader {
        border-bottom: 16px solid red;
        border-radius: 50%;
        width: 34px;
        height: 34px;
        animation: spin 2s linear infinite;
        border-width: 5px;
        margin-top: -7px;
        margin-left: -91px;
    }
</style>

<div ng-controller="Scheme">
    <div class="page-bar">
        <ul class="page-breadcrumb">
            <li>
                <i class="fa fa-home"></i>
                <a href="/sales/SalesHome/Dashboard">Home</a>
                <i class="fa fa-angle-right"></i>
            </li>
            <li>
                <a href="#">Scheme Setup</a>
                <i class="fa fa-angle-right"></i>

            </li>
        </ul>

        <div class="actions pull-right actionbutton">
            <div class="btn-group">
                <a class="loader" style="display: none; z-index: 100;"></a>

                <a class="btn btn-circle btn-icon-only btn-default" ng-click="AddButtonClickEvent()"  ng-hide="createPanel">
                    <i class="fa fa-plus"></i>
                </a>
            </div>
        </div>

    </div>

    <div class="portlet light bordered main" ng-show="createPanel" id="CreatePanel">

        <div class="portlet-title">
            <div class="caption">
                <i class="fa fa-list-alt font-green-haze"></i>
                <span class="caption-subject font-green-haze bold uppercase pull-left">
                    Add Scheme
                </span>
            </div>
            <span class="actions pull-right">
                <button type="button" id="cancelTarget" name="cancelTarget" class="btn btn-default btn-sm" ng-click="Cancel();">Cancel</button>
                <button type="submit" id="saveScheme" name="saveScheme" ng-click="schemeCreate(SchemeCreateForm.$valid)" class="btn btn-green btn-sm">{{saveAction}}</button>
            </span>

        </div><!-- /portlet-title-->
        <div class="portlet-body">
            <div class="row">
                <div class="col-md-12">
                    <form id="SchemeCreateForm" name="SchemeCreateForm" novalidate>
                        <div class="row">
                            <div class="col-sm-4 col-md-4">
                                <div class="form-group">
                                    <label class="control-label">
                                        Scheme Name <span style="color:red" ng-show="DistributorCreateForm.distCustomerMultiSelect.$invalid">
                                            <span ng-show="DistributorCreateForm.distCustomerMultiSelect.$error.required">*</span>
                                        </span>
                                    </label>
                                    @*<select id="distCustomerMultiSelect" name="distCustomerMultiSelect" kendo-multi-select k-options="distCustomerSelectOptions" slim-scroll ng-model="selecteddistCustomer" style="width:100%;" required></select>*@
                                    <input id="SchemeName" ng-model="SchemeName" name="SchemeName" class="form-control input-sm" placeholder="Scheme Name" required />

                                </div>
                            </div>
                            <div class="col-sm-4 col-md-4">
                                <div class="form-group">
                                    <label class="control-label">
                                        Employees List <span style="color:red" ng-show="DistributorCreateForm.areaMultiSelect.$invalid">
                                            <span ng-show="DistributorCreateForm.areaMultiSelect.$error.required">*</span>
                                        </span>
                                    </label>
                                    <select id="employeeMultiSelect" name="employeeMultiSelect" kendo-multi-select k-options="employeeOptions" slim-scroll ng-model="selectedemployee" required></select>
                                </div>
                            </div>
                            <div class="col-sm-4 col-md-4">
                                <div class="form-group">
                                    <label class="control-label">
                                        Area <span style="color:red" ng-show="DistributorCreateForm.areaMultiSelect.$invalid">
                                            <span ng-show="DistributorCreateForm.areaMultiSelect.$error.required">*</span>
                                        </span>
                                    </label>
                                    <select id="areaMultiSelect" name="areaMultiSelect" kendo-multi-select k-options="areaSelectOptions" slim-scroll ng-model="selectedArea" style="width:100%;"></select>

                                    @*<select id="areaMultiSelect" name="areaMultiSelect" kendo-multi-select k-options="areaSelectOptions" slim-scroll ng-model="selectedArea" required></select>*@
                                </div>
                            </div>

                        </div>

                        <div class="row">
                            <div class="col-sm-3 col-md-3">
                                <div class="form-group">
                                    <label class="control-label">
                                        Customer
                                    </label>
                                    <select id="customerMultiSelect" name="customerMultiSelect" kendo-multi-select k-options="customerMultiSelect" slim-scroll ng-model="customerMultiSelect" style="width:100%;"></select>
                                </div>
                            </div>
                            <div class="col-sm-3 col-md-4">
                                <div class="form-group">
                                    <label class="control-label">
                                        Reseller
                                    </label>
                                    <select id="brdReseller" name="brdReseller" kendo-multi-select k-options="brdReseller" slim-scroll ng-model="brdReseller" style="width:100%;"></select>
                                </div>
                            </div>
                            @*<div class="col-md-4">
                                    <div class="form-group">
                                        <div class="btn-group">
                                            @Html.Partial("~/Views/Shared/Controls/DateField.cshtml", true)
                                        </div>
                                    </div>
                                </div>*@
                            <div class="col-sm-3 col-md-4">
                                <div class="row">
                                    <div class="col-md-6 col-sm-6">
                                        <div class="form-group">
                                            <label class="control-label">
                                                Start Date AD<span style="color:red" ng-show="createContractForm.startDatePicker.$invalid">
                                                    <span ng-show="createContractForm.startDatePicker.$error.required">*</span>
                                                </span>
                                            </label>
                                            <input class="form-control" type="text" name="startDatePicker" ng-model="startDatePicker" id="startDatePicker" placeholder="Select Date..." required>
                                        </div>
                                    </div>


                                    <div class="col-sm-6 col-md-6">
                                        <div class="form-group">
                                            <label class="control-label">
                                                End Date AD<span style="color:red" ng-show="createContractForm.endDatePicker.$invalid">
                                                    <span ng-show="createContractForm.endDatePicker.$error.required">*</span>
                                                </span>
                                            </label>
                                            <input class="form-control" type="text" name="endDatePicker" ng-model="endDatePicker" id="endDatePicker" placeholder="Select Date..." required>
                                        </div>
                                    </div>
                                    @*<div class="col-md-6 col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label">
                                                    Start Date BS<span style="color:red" ng-show="createContractForm.startDatePicker.$invalid">
                                                        <span ng-show="createContractForm.startDatePicker.$error.required">*</span>
                                                    </span>
                                                </label>
                                                <input class="form-control" type="text" name="startDatePicker" ng-model="startDatePicker" id="startDatePicker" placeholder="Select Date..." required>
                                            </div>
                                        </div>
                                        <div class="col-sm-6 col-md-6">
                                            <div class="form-group">
                                                <label class="control-label">
                                                    End Date BS<span style="color:red" ng-show="createContractForm.endDatePicker.$invalid">
                                                        <span ng-show="createContractForm.endDatePicker.$error.required">*</span>
                                                    </span>
                                                </label>
                                                <input class="form-control" type="text" name="endDatePicker" ng-model="endDatePicker" id="endDatePicker" placeholder="Select Date..." required>
                                            </div>
                                        </div>*@

                                </div>
                            </div>
                        </div>


                        <div class="row">


                            <div class="col-sm-4 col-md-4">
                                <div class="form-group">
                                    <label class="control-label">
                                        Brands
                                    </label>
                                    <select id="distBrandSelect" name="distBrandSelect" kendo-multi-select k-options="distBrandSelectOptions" ng-model="selectedBrands" required></select>
                                </div>
                            </div>
                            <div class="col-sm-4 col-md-4">
                                <div class="form-group">
                                    <label class="control-label">
                                        Items
                                    </label>
                                    <select id="distItemsSelect" name="distItemsSelect" kendo-multi-select k-options="distItemsSelectOptions" ng-model="selectedItems"></select>
                                </div>
                            </div>
                            <div class="col-sm-4 col-md-4">
                                <div class="form-group">
                                    <label class="control-label">
                                        Scheme Type
                                    </label>
                                    <select id="SchemeType" name="SchemeType" k-ng-model="Q.Type" k-value-primitive="true"
                                            kendo-drop-down-list k-options="SchemeOptions" k-on-change="showOtherOptions(Q.Type)"
                                            style="width:100%;"></select>
                                </div>
                            </div>

                        </div>
                        <div id="options" ng-show="showOptions">
                            <h4 style="font:bold">{{SchemeTypeName}}</h4>
                            @*<div class="row">
                                    <div class="col-sm-4 col-md-4">
                                        <div class="form-group">

                                            <label class="control-label">
                                                Max Quantity
                                            </label>
                                            <input id="MaxQty" ng-model="MaxQty" name="MaxQty" class="form-control input-sm" placeholder="Max Quantity" required />

                                        </div>
                                    </div>

                                    <div class="col-sm-4 col-md-4">
                                        <div class="form-group">

                                            <label class="control-label">
                                                Min Quantity
                                            </label>
                                            <input id="MinQty" ng-model="MinQty" name="MinQty" class="form-control input-sm" placeholder="Min Quantity" required />

                                        </div>
                                    </div>
                                    <div class="col-sm-4 col-md-4" ng-show="showGiftoption">
                                        <div class="form-group">
                                            <label class="control-label">
                                                Items
                                            </label>
                                            <select id="distGiftItemsSelect" name="distGiftItemsSelect" kendo-multi-select k-options="giftItemsSelectOptions" ng-model="selectedGiftItems"></select>
                                        </div>
                                    </div>
                                    <div class="row" ng-show="showQtyAmtoptions">
                                        <div class="col-sm-4 col-md-3" style="padding-right: 0px;">
                                            <div class="form-group">
                                                <label class="control-label">
                                                    Discount
                                                </label>

                                                <input type="text" class="form-control" placeholder="Enter Discount" ng-model="DiscountAmount">

                                            </div>
                                        </div>
                                        <div class="col-sm-4 col-md-1" style="padding-left: 0px;padding-top: 23px;">
                                            <div class="form-group">
                                                <span>
                                                    <select id="DiscountType" name="DiscountType" k-ng-model="D.Type" k-value-primitive="true"
                                                            kendo-drop-down-list k-options="DiscountOptions" style="width:90%;" required></select>
                                                </span>

                                            </div>
                                        </div>
                                    </div>
                                </div>*@
                            <div class="row">
                                <div class="col-md-12 col-sm-12">
                                    <table class="table table-bordered">
                                        <thead>
                                            <tr>
                                                <th class="col-md-1">S.N.</th>
                                                <th class="col-md-3">Min Quantity</th>
                                                <th class="col-md-3">Max Quantity</th>
                                                <th class="col-md-3" ng-show="showQtyAmtoptions">Discount</th>
                                                <th class="col-md-2" ng-show="showQtyAmtoptions">Discount Type</th>
                                                <th class="col-md-3" ng-show="showGiftoption">Gift Item</th>
                                                <th class="col-md-2" ng-show="showGiftoption">Gift Qunatity</th>
                                                <th class="col-md-1">
                                                    <button class="btn btn-green btn-xs" ng-click="AddProductItem()"><i class="fa fa-plus"></i> Add</button>
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="row in rows">
                                                <td>{{$index+1}}.</td>
                                                <td>
                                                    <input id="MinQty" ng-model="row.MIN_VALUE" name="MinQty" class="form-control input-sm" placeholder="Min Quantity" required />

                                                </td>
                                                <td>
                                                    <input id="MaxQty" ng-model="row.MAX_VALUE" name="MaxQty" class="form-control input-sm" placeholder="Max Quantity" required />

                                                </td>
                                                <td ng-show="showQtyAmtoptions">
                                                    <input type="text" class="form-control" placeholder="Enter Discount" ng-model="row.Discount">
                                                </td>
                                                <td ng-show="showQtyAmtoptions">

                                                    <select id="DiscountType" name="DiscountType" k-ng-model="row.DiscountType" k-value-primitive="true"
                                                            kendo-drop-down-list k-options="DiscountOptions" style="width:90%;"></select>

                                                </td>
                                                <td ng-show="showGiftoption">
                                                    <select id="distGiftItemsSelect" name="distGiftItemsSelect" kendo-multi-select k-options="giftItemsSelectOptions" ng-model="row.GiftItemCode"></select>
                                                </td>
                                                <td ng-show="showGiftoption">
                                                    <input id="GiftQty" ng-model="row.GiftQty" name="GiftQty" class="form-control input-sm" placeholder="Gift Quantity" />

                                                </td>
                                                <td class="add_btn">
                                                    <button class="btn btn-xs btn-danger" ng-click="RemoveProductItem($index)"><i class="fa fa-trash delete_icon"></i></button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                    </form>
                </div>

            </div>
        </div>
    </div>
    
    <div class="row collapse in" id="demo">
        <div class="col-md-12">
            <div class="portlet light bordered">
                <div class="portlet-body form">
                    <div class="row kendo_table">
                        <kendo-grid options="grid" id="grid">
                            <div k-detail-template>
                                <kendo-tabstrip>
                                    <ul>
                                        <li class="k-state-active">SchemeItems</li>
                                        <li>Areas</li>
                                        <li ng-hide="showOthers">GiftItems</li>
                                        <li ng-show="showOthers">Details</li>

                                    </ul>
                                    <div>
                                        <div kendo-grid k-options="schemeItems(dataItem)"></div>
                                    </div>
                                    <div>
                                        <div kendo-grid k-options="schemeAreas(dataItem)"></div>
                                    </div>
                                    <div>
                                        <div kendo-grid k-options="getGiftItem(dataItem)">
                                            @*<div class="row" ng-repeat="items in giftItems">

                                                    <div class="col-sm-4 col-md-2">
                                                        <div class="form-group">

                                                            <label class="control-label">
                                                                Minimum Quantity
                                                            </label>
                                                            <input id="MinQty" value={{items.Min_Value}} name="MinQty" class="form-control input-sm" placeholder="Min Quantity" disabled />

                                                        </div>
                                                    </div>
                                                    <div class="col-sm-4 col-md-2">


                                                        <label class="control-label">
                                                            Max Quantity
                                                        </label>
                                                        <input id="MaxQty" ng-model="items.Max_Value" name="MaxQty" class="form-control input-sm" placeholder="Max Quantity" disabled />


                                                    </div>
                                                    <div class="col-sm-4 col-md-4">
                                                        <div class="form-group">
                                                            <label class="control-label">
                                                                Items
                                                            </label>
                                                            <select id="distGiftItemsSelect" name="distGiftItemsSelect" kendo-multi-select k-options="giftItemsSelectOptions" ng-model="items.ItemCode" disabled></select>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-4 col-md-2">
                                                        <div class="form-group">
                                                            <label class="control-label">
                                                                Gift Quantity
                                                            </label>
                                                            <input id="GiftQty" ng-model="items.Gift_QTY" name="GiftQty" class="form-control input-sm" placeholder="Gift Quantity" disabled />


                                                        </div>
                                                    </div>
                                                </div>*@
                                        </div>
                                    </div>
                                    <div>
                                        <div kendo-grid k-options="others(dataItem)"></div>
                                    </div>
                                </kendo-tabstrip>
                            </div>
                        </kendo-grid>
                        @Html.Partial("~/Views/Shared/Controls/_GridToolbar.cshtml")
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    $(function () {
        debugger;
        $("#startDatePicker, #endDatePicker, #paymentDate").datepicker({
            changeMonth: true,
            changeYear: true,
        });

    });

    $(document).ready(function () {
        $('[data-toggle="tooltip"]').tooltip();
        //DateFilter.init();
        //$scope.calendar.fullCalendar('refetchEvents');
        $("#ddlDateFilterVoucher, #ToDateVoucher, #FromDateVoucher").on('change', function () {
            //$("#calendar").fullCalendar('destroy');
            angular.element(document.getElementById('calendarRouteCtrl')).scope().clearEventOfCalendar();
            angular.element(document.getElementById('calendarRouteCtrl')).scope().initCalendar();
        });
        //setTimeout(function () {
        //    $("#calendar").fullCalendar('destroy');
        //}, 100);

        //$("#external-events").slimScroll({
        //    height: 450,

        //});
        //$("#ToDateVoucher").datepicker({
        //    dateFormat: 'yy-M-d', changeMonth: true,
        //    changeYear: true,
        //    showButtonPanel: true,
        //});

        //$("#routeEndDate").datepicker({
        //    orientation: "top auto",
        //    startDate: '-3d'
        //});
    });

    ////var DateFilter = function () {

    ////    return {

    ////        init: function (callback) {
    ////            DateFilter.loadDateFilter("#ddlDateFilterVoucher", callback);

    ////            $("#ddlDateFilterVoucher").change(function () {
    ////                if ($('option:selected', this).val() != "Custom") {
    ////                    $("#FromDateVoucher").val(moment($('option:selected', this).attr("data-start-date")).format("YYYY-MMM-DD"));
    ////                    $("#ToDateVoucher").val(moment($('option:selected', this).attr("data-end-date")).format("YYYY-MMM-DD"));
    ////                }
    ////                $('#fromInputDateVoucher').val(AD2BS(moment($("#FromDateVoucher").val()).format("YYYY-MM-DD")));
    ////                $('#toInputDateVoucher').val(AD2BS(moment($("#ToDateVoucher").val()).format("YYYY-MM-DD")));
    ////            });
    ////            $('#fromInputDateVoucher').nepaliDatePicker({
    ////                ndpEnglishInput: 'FromDateVoucher',
    ////                onChange: function () {
    ////                    $('#ddlDateFilterVoucher').val("Custom");
    ////                    $("#FromDateVoucher").val(moment(BS2AD($("#fromInputDateVoucher").val())).format("YYYY-MMM-DD"));
    ////                }
    ////            });
    ////            $('#toInputDateVoucher').nepaliDatePicker({
    ////                ndpEnglishInput: 'ToDateVoucher',
    ////                changeMonth: true,
    ////                changeYear: true,
    ////                showButtonPanel: true,
    ////                onChange: function () {
    ////                    $('#ddlDateFilterVoucher').val("Custom");
    ////                    $("#ToDateVoucher").val(moment(BS2AD($("#toInputDateVoucher").val())).format("YYYY-MMM-DD"));
    ////                }
    ////            });
    ////            var current_date = getNepaliDate();
    ////            $('#fromInputDateVoucher').val(current_date);
    ////            $('#toInputDateVoucher').val(current_date);
    ////            $("#FromDateVoucher").datepicker({
    ////                dateFormat: 'yy-M-d', changeMonth: true,
    ////                changeYear: true,
    ////                showButtonPanel: true,
    ////            });
    ////            $("#ToDateVoucher").datepicker({
    ////                dateFormat: 'yy-M-d', changeMonth: true,
    ////                changeYear: true,
    ////                showButtonPanel: true,
    ////            });
    ////            //change
    ////            $('#FromDateVoucher').val(moment(BS2AD($("#fromInputDateVoucher").val())).format("YYYY-MMM-DD"));
    ////            $('#ToDateVoucher').val(moment(BS2AD($("#toInputDateVoucher").val())).format("YYYY-MMM-DD"));
    ////            $('#FromDateVoucher').change(function () {
    ////                $('#ddlDateFilterVoucher').val("Custom");
    ////                $('#fromInputDateVoucher').val(AD2BS(moment($('#FromDateVoucher').val()).format("YYYY-MM-DD")));
    ////            });
    ////            $('#ToDateVoucher').change(function () {
    ////                $('#ddlDateFilterVoucher').val("Custom");
    ////                $('#toInputDateVoucher').val(AD2BS(moment($('#ToDateVoucher').val()).format("YYYY-MM-DD")));
    ////            });
    ////            var formNepali = $('#fromInputDateVoucher').val();
    ////            var toNepali = $('#toInputDateVoucher').val();
    ////            var FormEnglish = $('#FromDateVoucher').val();
    ////            var toEnglish = $('#ToDateVoucher').val();
    ////            var stringFormat = formNepali + "(" + FormEnglish + ")  To " + toNepali + "(" + toEnglish + ")"
    ////            $("#spandate").html(stringFormat);
    ////            $(".date-tooltip").attr("data-original-title", $("#spandate").html());
    ////            //Date-filter-range display on top
    ////            if ($("#fromInputDateVoucher").val() != undefined && $("#fromInputDateVoucher").val() != "") {
    ////                var value = $("#fromInputDateVoucher").val() + " To " + $("#toInputDateVoucher").val();
    ////                if (value != " To ") {
    ////                    $("#date-filter-value").html("<span class='date-filter-icon'>" + value + "</span>");
    ////                }
    ////                else {
    ////                    $("#date-filter-value").html();
    ////                }

    ////            }
    ////            else {
    ////                $("#date-filter-value").html();
    ////            }

    ////        },
    ////        loadDateFilter: function (selector, callback) {
    ////            $.support.cors = true;
    ////            var current_date = getNepaliDate();
    ////            var date = current_date.split("-");
    ////            var currentFiscalYear = (parseInt(date[0]) - 1).toString() + "/" + date[0].toString().substring(2, date[0].toString().length);
    ////            var readUrl = window.location.protocol + "//" + window.location.host + "/api/Common/GetDateFilters?fiscalYear=" + currentFiscalYear;

    ////            $.ajax({
    ////                type: "GET",
    ////                url: readUrl,
    ////                beforeSend: function () {
    ////                    $(selector).html("<option> loading ... </option>");
    ////                },
    ////                success: function (data) {
    ////                    $(selector).empty();
    ////                    $.each(data, function (i) {
    ////                        //function for the selected week
    ////                        //if (i.RangeName === 'Last Week')
    ////                        //{
    ////                        //    $('#FromDateVoucher').val(data[i].StartDateString);
    ////                        //    $('#ToDateVoucher').val(data[i].EndDateString);

    ////                        //    $(selector).append($("<option selected='true'></option>")
    ////                        //              .attr("value", data[i].RangeName).attr("data-start-date", data[i].StartDateString).attr("data-end-date", data[i].EndDateString)
    ////                        //              .text(data[i].RangeName));
    ////                        //} else {
    ////                        //    $(selector).append($("<option></option>")
    ////                        //              .attr("value", data[i].RangeName).attr("data-start-date", data[i].StartDateString).attr("data-end-date", data[i].EndDateString)
    ////                        //              .text(data[i].RangeName));
    ////                        //}
    ////                        $(selector).append($("<option></option>")
    ////                            .attr("value", data[i].RangeName).attr("data-start-date", data[i].StartDateString).attr("data-end-date", data[i].EndDateString)
    ////                            .text(data[i].RangeName));
    ////                    });
    ////                    //this year for testing purpose
    ////                    var ddlselector = $(selector + " option[value='Today']")
    ////                    ddlselector.prop('selected', true);
    ////                    //will get the selected date in this area
    ////                    //$('#ddlDateFilterVoucher').trigger('change');
    ////                    $('#FromDateVoucher').val(moment(ddlselector.attr("data-start-date")).format("YYYY-MMM-DD"));
    ////                    $('#ToDateVoucher').val(moment(ddlselector.attr("data-end-date")).format("YYYY-MMM-DD"));
    ////                    $('#fromInputDateVoucher').val(AD2BS(moment($("#FromDateVoucher").val()).format("YYYY-MM-DD")));
    ////                    $('#toInputDateVoucher').val(AD2BS(moment($("#ToDateVoucher").val()).format("YYYY-MM-DD")));

    ////                    //selected date reflected on the top righ panel 
    ////                    var formNepali = $('#fromInputDateVoucher').val();
    ////                    var toNepali = $('#toInputDateVoucher').val();
    ////                    var FormEnglish = $('#FromDateVoucher').val();
    ////                    var toEnglish = $('#ToDateVoucher').val();
    ////                    var stringFormat = formNepali + "(" + FormEnglish + ")  To " + toNepali + "(" + toEnglish + ")"
    ////                    $("#spandate").html(stringFormat);

    ////                    $(".date-tooltip").attr("data-original-title", $("#spandate").html());
    ////                    //Date-filter-range display on top
    ////                    if ($("#fromInputDateVoucher").val() != undefined && $("#fromInputDateVoucher").val() != "") {
    ////                        var value = $("#fromInputDateVoucher").val() + " To " + $("#toInputDateVoucher").val();
    ////                        if (value != " To ") {
    ////                            $("#date-filter-value").html("<span class='date-filter-icon'>" + value + "</span>");
    ////                        }
    ////                        else {
    ////                            $("#date-filter-value").html();
    ////                        }

    ////                    }
    ////                    else {
    ////                        $("#date-filter-value").html();
    ////                    }
    ////                    $("#applydp").on("click", function () {
    ////                        debugger;
    ////                        var formNepali = $('#fromInputDateVoucher').val();
    ////                        var toNepali = $('#toInputDateVoucher').val();
    ////                        var FormEnglish = $('#FromDateVoucher').val();
    ////                        var toEnglish = $('#ToDateVoucher').val();
    ////                        var stringFormat = formNepali + "(" + FormEnglish + ")  To " + toNepali + "(" + toEnglish + ")"
    ////                        $("#spandate").html(stringFormat);
    ////                        $(".date-tooltip").attr("data-original-title", $("#spandate").html());
    ////                        //$('#form_modal2').modal('toggle');
    ////                        $('#form_modal2').modal('hide');
    ////                        //Date-filter-range display on top
    ////                        if ($("#fromInputDateVoucher").val() != undefined && $("#fromInputDateVoucher").val() != "") {
    ////                            var value = $("#fromInputDateVoucher").val() + " To " + $("#toInputDateVoucher").val();
    ////                            if (value != " To ") {
    ////                                $("#date-filter-value").html("<span class='date-filter-icon'>" + value + "</span>");
    ////                            }
    ////                            else {
    ////                                $("#date-filter-value").html();
    ////                            }

    ////                        }
    ////                        else {
    ////                            $("#date-filter-value").html();
    ////                        }
    ////                        // $('#form_modal2').modal('disabled', 'disabled');
    ////                    });


    ////                    //$("#applydp").on("click", function () {

    ////                    //    var formNepali = $('#fromInputDateVoucher').val();
    ////                    //    var toNepali = $('#toInputDateVoucher').val();
    ////                    //    var FormEnglish = $('#FromDateVoucher').val();
    ////                    //    var toEnglish = $('#ToDateVoucher').val();
    ////                    //    var stringFormat = formNepali + "(" + FormEnglish + ")  To " + toNepali + "(" + toEnglish + ")"
    ////                    //    $("#spandate").html(stringFormat);
    ////                    //    $('#form_modal2').modal('toggle');
    ////                    //    //once the modal apply then it will desabled the mod

    ////                    //    //$('#form_modal2').modal('disabled', 'disabled');
    ////                    //});



    ////                    if (callback != undefined) {
    ////                        callback();
    ////                    }

    ////                },
    ////                error: function (xhr, status, error) {
    ////                    $(selector).html("<option> Error </option>");
    ////                }
    ////            });
    ////        }

    ////    };


    ////}();


    ////var DatePicker = function () {

    //    return {
    //        appendText: false,
    //        appendToText: "",
    //        init: function (append, text, callback) {
    //            $("#ddlDatePickerFilter").change(function () {
    //                if ($('option:selected', this).val() !== "CT") {
    //                    $("#datePickerAd").val($('option:selected', this).attr("data-end-date"));
    //                }
    //                $('#datePickerBs').val(AD2BS($("#datePickerAd").val()));
    //            });
    //            $('#datePickerBs').nepaliDatePicker({
    //                ndpEnglishInput: 'datePickerAd'
    //            });
    //            $('#datePickerBs').nepaliDatePicker({
    //                ndpEnglishInput: 'ToDateVoucher',
    //                changeMonth: true,
    //                changeYear: true,
    //                showButtonPanel: true,
    //                onChange: function () {
    //                    $('#datePickerAd').val(BS2AD($('#datePickerBs').val()));
    //                }
    //            });
    //            var current_date = getNepaliDate();
    //            $('#datePickerBs').val(current_date);
    //            $("#datePickerAd").datepicker({
    //                dateFormat: 'yy-mm-dd', changeMonth: true,
    //                changeYear: true,
    //                showButtonPanel: true,
    //            });
    //            $('#datePickerAd').val(BS2AD($("#datePickerBs").val()));
    //            $('#datePickerAd').change(function () {

    //                $('#datePickerBs').val(AD2BS($('#datePickerAd').val()));
    //            });
    //            DatePicker.appendText = (append === "True");
    //            DatePicker.appendToText = text;
    //            DatePicker.loadDateFilter("#ddlDatePickerFilter", callback);

    //            var formNepali = $('#datePickerBs').val();
    //            var FormEnglish = $('#datePickerAd').val();
    //            var stringFormat = formNepali + "(" + FormEnglish + ")";
    //            $("#spandate").html(stringFormat);
    //            $(".date-tooltip").attr("data-original-title", $("#spandate").html());

    //            //Date-filter-range display on top
    //            if ($("#fromInputDateVoucher").val() != undefined && $("#fromInputDateVoucher").val() != "") {
    //                var value = $("#fromInputDateVoucher").val() + " To " + $("#toInputDateVoucher").val();
    //                if (value != " To ") {
    //                    $("#date-filter-value").html("<span class='date-filter-icon'>" + value + "</span>");
    //                }
    //                else {
    //                    $("#date-filter-value").html();
    //                }

    //            }
    //            else {
    //                $("#date-filter-value").html();
    //            }
    //        },
    //        loadDateFilter: function (selector, callback) {
    //            $.support.cors = true;
    //            var current_date = getNepaliDate();
    //            var date = current_date.split("-");
    //            var currentFiscalYear = (parseInt(date[0]) - 1).toString() + "/" + date[0].toString().substring(2, date[0].toString().length);
    //            var readUrl = window.location.protocol + "//" + window.location.host + "/api/Common/GetDateFilters?fiscalYear=" + currentFiscalYear;
    //            if (DatePicker.appendText) {
    //                readUrl += "&appendText=true&textToAppend=" + DatePicker.appendToText;
    //            }
    //            $.ajax({
    //                type: "GET",
    //                url: readUrl,
    //                beforeSend: function () {
    //                    $(selector).html("<option> loading ... </option>");
    //                },
    //                success: function (data) {
    //                    $(selector).empty();
    //                    $.each(data, function (i) {
    //                        $(selector).append($("<option></option>")
    //                            .attr("value", data[i].RangeName).attr("data-start-date", data[i].StartDateString).attr("data-end-date", data[i].EndDateString)
    //                            .text(data[i].RangeName));
    //                    });

    //                    if (callback != undefined)
    //                        callback();
    //                },
    //                error: function (xhr, status, error) {
    //                    $(selector).html("<option> Error </option>");
    //                }
    //            });
    //        }

    //    };
    //}();

</script>
<script src="@Scripts.Url("~/JS/reportFilter.js")"></script>
@*<script src="@Scripts.Url(" ~/JS/DateFilter.js")" type="text/javascript"></script>*@
<script src="@Scripts.Url("~/JS/DateFilter.js?v5")" type="text/javascript"></script>


@{
    // Layout = "~/Views/Shared/_LayoutNew.cshtml";
    var myAreaName = string.Empty;
    object areaObj;
    if (ViewContext.RouteData.Values.TryGetValue("area", out areaObj))
    {
        myAreaName = areaObj.ToString();
    }
    var appurl = string.Format("~/areas /{0}/JS/App.js", myAreaName);
}

<style>

    .btn-green {
        background-color: #44A12F;
        color: #fff;
    }

    .label-success-green {
        background-color: #44A12F;
    }

    .label-success-light {
        background-color: #008000 !important;
    }

    .bank {
        width: 5%;
    }

    .outcharge {
        width: 53%;
    }

    .confirmcharge {
        width: 27%;
    }

    .shipment {
        width: 9%;
    }

    .k-grid-content.k-auto-scrollable {
        height: 400px !important;
    }

    div#grid {
        height: 500px;
    }

    .topgap input[type="radio"] {
        padding-top: 5px !important;
    }

    #LcEntryForm .k-widget input {
        height: 16px !important;
    }

    /*.main .k-dropdown-wrap {
        height: 22px;
        font-size: 12px;
    }*/
    .k-dropdown-wrap.k-state-default {
        height: 22px !important;
        background-image: none !important;
        background-color: #fff !important;
        font-size: 11px !important;
    }

    #historymodal .modal-dialog {
        width: 1017px !important;
        margin: 30px auto;
    }

    #statusmodal .modal-dialog {
        max-width: 420px !important;
    }

    #printmodal .modal-content {
        max-width: 1066px !important;
        min-width: 1066px;
        margin: 0px -227px;
    }

    .wholedetail {
        width: 100%;
    }

    #statusmodal .modal-body {
        padding-bottom: 15px !important;
    }


    .definationlist dt {
        float: left !important;
        padding-right: 5px;
        width: 59%;
        padding: 3px;
    }

    .historyitemgrid.k-grid.k-widget {
        font-size: 10px;
    }

    .historyshipmentgrid.k-grid.k-widget {
        font-size: 10px;
    }


    .historydocumentgrid.k-grid.k-widget {
        font-size: 10px;
    }

    .definationlist dd {
        padding: 3px;
    }

    table[role="treegrid"] td a {
        padding-right: 5px !important;
    }

    .showborder {
        border: 1px dotted red !important;
    }

    /*.k-icon {
        display: none;
    }*/
    .k-clear-value {
        display: none;
    }

    .k-select {
        display: none !important;
    }

    span.k-icon.k-i-loading {
        display: none;
    }

    .daynumber {
        padding-right: 0px;
    }

    .main input.form-control {
    height:24px !important;
    }
</style>

<script src="~/Areas/NeoERP.LOC/Scripts/jquery.maskedinput.min.js"></script>
<div ng-app="myApp">
    <div ng-controller="LCEntryController" id="lcentrycontroller">
        <div class="page-content-wrapper" ng-cloak>
            <div class="portlet light bordered main">
                <div class="portlet-title titleheading">
                    <i class="fa fa-list-alt fontgreen"></i>
                    <span class="caption-subject fontgreen bold uppercase">
                        Letter Of Credit Setup
                    </span>

                    <span class="pull-right" ng-show="!showFormPanel">

                        <button type="button" id="addLc" name="addLc" ng-click="AddLc()" class="btn buttongreen btn-sm">[+] Add</button>
                    </span>
                    <span class="pull-right" ng-show="showFormPanel">
                        <button type="submit" id="EditContent" name="EditContent" ng-hide="ContentModal" ng-click="EditContent()" class="btn btn-default btn-sm" data-toggle="modal" data-target="#ContentModal"> Edit Content</button>
                        <button type="button" id="cancellc" name="cancellc" class="btn btn-default btn-sm" ng-click="cancellc();">Cancel</button>
                        <button type="reset" id="saveandcontinue" name="saveandcontinue" class="btn btn-success btn-sm" ng-click="createlc(LcEntryForm.$valid,'save')">{{scAction}}</button>
                        <button type="submit" id="savePerformaInvoice" name="savePerformaInvoice" ng-click="createlc(LcEntryForm.$valid,'save')" class="btn buttongreen btn-sm">{{saveAction}}</button>
                    </span>
                </div>
                <div class="portlet-body">
                    <div class="row">
                        <form id="LcEntryForm" name="LcEntryForm" ng-show="showFormPanel" novalidate>
                            <div class="col-sm-6 col-md-3">
                                <div class="form-group">
                                    <label class="control-label">
                                        PerfomaInvoice(PI#)<span style="color:red" ng-show="LcEntryForm.perfomainvoice.$invalid">
                                            <span ng-show="LcEntryForm.perfomainvoice.$error.required">*</span>
                                        </span>
                                    </label>
                                    <input id="perfomainvoiceautocomplete" ng-model="lc.perfomainvoice" name="perfomainvoice" kendo-auto-complete
                                           k-data-text-field="'PINVOICE_NO'"
                                           k-data-value-field="'PINVOICE_NO'"
                                           k-data-source="ipPurchaseOrder"
                                           k-min-length="1"
                                           k-value-primitive="true"
                                           k-placeholder="'Select Pinvoice No...'"
                                           k-on-select="ProformaInvoiceOnChange(kendoEvent)"
                                           k-on-change="LCperfomainvoiceOnchange(kendoEvent)"
                                           ;
                                           style="width:100%" ng-disabled="profomainvoicedisabled" required />


                                </div>
                            </div>

                            <div class="col-sm-6 col-md-3">
                                <div class="form-group">
                                    <label class="control-label">
                                        Purchase Order
                                    </label>
                                    <input type="text" id="purchaseorder" name="purchaseorder" class="form-control input-sm" ng-model="lc.purchaseorder" disabled />

                                </div>
                            </div>

                            <div class="col-sm-6 col-md-3">
                                <div class="form-group">
                                    <label class="control-label">
                                        Lc Number<span style="color:red" ng-show="LcEntryForm.lcnumber.$invalid">
                                            <span ng-show="LcEntryForm.lcnumber.$error.required">*</span>
                                        </span>
                                    </label>
                                    <input id="LcNumber" ng-model="lc.number" name="lcnumber" style="width: 99%;" kendo-combo-box
                                           k-placeholder="'Select Lc Number'"
                                           k-data-text-field="'SUPPLIER_EDESC'"
                                           k-data-value-field="'SUPPLIER_CODE'"
                                           k-filter="'contains'"
                                           k-auto-bind="true"
                                           k-data-source="lcfromsynergy"
                                           ng-disabled="disablelcnumber"
                                           k-suggest="false" required />



                                </div>
                            </div>
                            <div class="col-sm-6 col-md-3">
                                <div class="form-group">
                                    <label class="control-label">
                                        Beneficiary Name
                                    </label>
                                    <select id="beneficiaryname" k-value-primitive="true" name="beneficiaryname" k-ng-model="lc.beneficiaryname" kendo-drop-down-list style="width: 100%"
                                            k-options="bnflist" disabled></select>



                                </div>
                            </div>
                            <input type="text" style="display:none" name="lccode" id="lccode" />
                            <div id="firstloaditems" ng-show="false" kendo-combo-box k-options="itemsOptions"></div>
                            <div class="col-sm-12 col-md-12">
                                <div class="portlet-body" ng-show="ItemsShow">
                                    <div class="tblresponsive">
                                        <table class="table table-striped  table-hover ctable" id="items">
                                            <thead>
                                                <tr>
                                                    <th width="5%">S.N.</th>
                                                    <th>Item Name </th>
                                                    <th width="5%">MU</th>
                                                    <th width="5%">Quantity</th>
                                                    <th width="6%">Rate</th>
                                                    <th width="7%">Total</th>
                                                    <th width="10%">HS Code</th>
                                                    <th width="10%">Country</th>
                                                    <th width="20%">Amendment Reason</th>
                                                </tr>
                                            </thead>

                                            <tbody>
                                                <tr style="font-size:10px;" ng-if="itemlist.length==0"><td colspan="9">No Items To Display..</td></tr>
                                                <tr style="font-size:10px;" ng-if="itemlist.length!=0" ng-repeat="items in itemlist">
                                                    <td style="text-align:right;">{{$index +1}}</td>
                                                    <td>

                                                        <input kendo-combo-box
                                                               id="items" class="items"
                                                               k-value-primitive="true"
                                                               k-placeholder="'Select Items'"
                                                               k-data-text-field="'ITEM_EDESC'"
                                                               k-data-value-field="'ITEM_CODE'"
                                                               k-filter="'contains'"
                                                               k-auto-bind="false"
                                                               k-min-length="3"
                                                               k-data-source="itemsDataSource"
                                                               ng-model="tablelist[$index].ITEM_EDESC"
                                                               k-on-select="onItemsChange(kendoEvent,$index)"
                                                               style="width: 100%" />
                                                    </td>
                                                    <td><input type="text" id="mucode" name="mucode" class="form-control input-sm" ng-model="tablelist[$index].MU_CODE" disabled /></td>
                                                    <td><input type="number" min="0" id="quantity"  ng-change="showtotal()" ng-blur="OnQuantityChange($index)" name="quantity" class="form-control input-sm" ng-model="tablelist[$index].QUANTITY" value={{items.QUANTITY}} /></td>
                                                    <td><input type="number" min="0" id="value" ng-change="showtotal()" name="value" ng-blur="OnAmountChange($index)" class="form-control input-sm" ng-model="tablelist[$index].AMOUNT" value={{items.AMOUNT}} /></td>
                                                    <td style="text-align:right"><label ng-model="tablelist[$index].TOTAL"> {{tablelist[$index].QUANTITY * tablelist[$index].AMOUNT | number:fractionSize}} </label> </td>

                                                    <td style="width:15px;">

                                                        <p ng-model="tablelist[$index].HS_CODE">{{items.HS_CODE}}</p>

                                                    </td>
                                                    <td style="width:30px;">

                                                        <p ng-model="tablelist[$index].COUNTRY_OF_ORIGIN">{{items.COUNTRY_EDESC}}</p>
                                                    </td>
                                                    <td>
                                                        <input type="text" id="amendment" name="amendment" class="form-control input-sm amendment" ng-model="tablelist[$index].AMENDMENT" disabled />
                                                    </td>

                                                </tr>
                                                <tr>
                                                    <td></td>
                                                    <td><b>Grand Total</b></td>
                                                    <td></td>
                                                    <td><b class="pull-right">{{Total_Quantity | number}}</b>  </td>
                                                    <td>@*<b class="pull-right">{{Rate | number}}</b>*@ </td>
                                                    <td><b class="pull-right">{{Total_Amount | number}} </b></td>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>

                            <div class="col-sm-6 col-md-3">
                                <div class="form-group">
                                    <label class="control-label">
                                        Status<span style="color:red" ng-show="LcEntryForm.lcstatus.$invalid">
                                            <span ng-show="LcEntryForm.lcstatus.$error.required">*</span>
                                        </span>
                                    </label>
                                    <select id="lcstatus" k-value-primitive="true" name="lcstatus" k-ng-model="lc.lcstatus" ng-model="lc.statuses" ng-disabled="!check_lcstatus" kendo-drop-down-list style="width: 100%"
                                            k-options="lcstatus" required></select>
                                </div>
                            </div>
                            <div class="col-sm-6 col-md-3">
                                <div class="form-group">
                                    <label class="control-label">
                                        Open Date<span style="color:red" ng-show="LcEntryForm.opendate.$invalid">
                                            <span ng-show="LcEntryForm.opendate.$error.required">*</span>
                                        </span>
                                    </label>
                                    <input type="text" id="opendate" name="opendate" autocomplete="off" class="form-control maskdate" ng-disabled="!check_opendate" ng-model="lc.opendate" required />

                                </div>
                            </div>

                            <div class="col-sm-6 col-md-3">
                                <div class="form-group">
                                    <label class="control-label">
                                        Expiry Date<span style="color:red" ng-show="LcEntryForm.expirydate.$invalid">
                                            <span ng-show="LcEntryForm.expirydate.$error.required">*</span>
                                        </span>
                                    </label>
                                    <input type="text" id="expirydate" name="expirydate" class="form-control maskdate" ng-model="lc.expirydate" ng-disabled="!check_expirydate" required />

                                </div>
                            </div>
                            <div class="col-sm-6 col-md-3">
                                <div class="form-group">
                                    <label class="control-label">Last Shipment Date</label>
                                    <input type="text" id="lastshipmentdate" name="lastshipmentdate" autocomplete="off" class="form-control maskdate" ng-disabled="!check_lastshipmentdate" ng-model="lc.lastshipmentdate" />

                                </div>
                            </div>
                            <div class="col-sm-6 col-md-3">
                                <div class="form-group">
                                    <label class="control-label">
                                        Terms<span style="color:red" ng-show="LcEntryForm.incoterms.$invalid">
                                            <span ng-show="LcEntryForm.incoterms.$error.required">*</span>
                                        </span>
                                    </label>
                                    <select id="incoterms" k-value-primitive="true" name="incoterms" k-ng-model="lc.incoterms" ng-disabled="!check_terms" ng-model="lc.terms" kendo-drop-down-list style="width: 100%"
                                            k-options="incoTerms" required></select>

                                </div>
                            </div>
                            <div class="col-sm-6 col-md-3">
                                <div class="form-group">
                                    <label class="control-label">
                                        Payment Terms<span style="color:red" ng-show="LcEntryForm.pterms.$invalid">
                                            <span ng-show="LcEntryForm.pterms.$error.required">*</span>
                                        </span>
                                    </label>
                                    <select id="pterms" k-value-primitive="true" name="pterms" k-ng-model="lc.pterms" ng-disabled="!check_paymentterm" ng-model="lc.paymentterm" kendo-drop-down-list style="width: 100%"
                                            k-options="pTerms" k-on-change="LoadtermsDay()" required></select>

                                </div>
                            </div>
                            <div class="col-sm-6 col-md-3">
                                <div class="form-group">
                                    <label class="control-label">
                                        Credit Days<span style="color:red" ng-show="LcEntryForm.creditdays.$invalid">
                                            <span ng-show="LcEntryForm.creditdays.$error.required">*</span>
                                        </span>
                                    </label>
                                    <input limit-to="4" type="number" min="0" max="9999" id="creditdays" name="creditdays" ng-disabled="!check_creditdays" ng-model="lc.creditdays" oninput="validity.valid||(value='');" class="form-control input-sm" required />

                                </div>
                            </div>
                            <div class="col-sm-6 col-md-3">
                                <div class="form-group">
                                    <label class="control-label">
                                        Lead Time <span style="color:red" ng-show="LcEntryForm.DayNumber.$invalid ">
                                            <span ng-show="LcEntryForm.DayNumber.$error.required ">*</span>
                                        </span>
                                    </label>

                                    <div class="row">
                                        <div class="col-xs-4 col-sm-4 col-md-4 daynumber">
                                            <input type="number" id="DayNumber" name="DayNumber" min="0" class="form-control" ng-model="lc.daynumber" ng-disabled="!check_leadtime" required />
                                        </div>
                                        <div class="col-xs-8 col-sm-8 col-md-8">
                                            <select id="CalenderDays" name="CalenderDay" ng-model="lc.calenderdays" kendo-drop-down-list style="width: 100%"
                                                    k-options="CalenderDays" ng-disabled="!check_leadtime" required></select>
                                        </div>
                                    </div>
                                </div>
                            </div>


                            <div class="col-sm-6 col-md-3">
                                <div class="form-group">
                                    <label class="control-label">
                                        Expiry Place
                                    </label>
                                    <input type="text" id="expiryplace" name="expiryplace" class="form-control" ng-disabled="!check_expiryplace" ng-model="lc.expiryplace" />

                                </div>
                            </div>
                            <div class="col-sm-6 col-md-3">
                                <div class="form-group">
                                    <label class="control-label">
                                        Tolerance <small>(In %)</small>
                                    </label>
                                    <input type="number" min="0" id="toleranceper" name="toleranceper" ng-disabled="!check_toleranceper" ng-model="lc.toleranceper" class="form-control input-sm" />

                                </div>
                            </div>
                            <div class="col-sm-6 col-md-3">
                                <div class="form-group">
                                    <label class="control-label">
                                        Document Req Days
                                    </label>
                                    <input type="number" min="0" id="docreqdays" name="docreqdays" ng-disabled="!check_docreqdays" ng-model="lc.docreqdays" class="form-control input-sm" />

                                </div>
                            </div>
                            <div class="col-sm-12 col-md-12 bottom_gapping">
                                <fieldset>
                                    <legend class="bank">Bank</legend>
                                    <div class="row">
                                        <div class="col-sm-6 col-md-3">
                                            <div class="form-group">
                                                <label class="control-label">
                                                    Advising
                                                </label>
                                                <select id="advising" k-value-primitive="true" ng-disabled="!check_advising" k-ng-model="lc.advising" kendo-drop-down-list style="width: 100%"
                                                        k-options="supplierbankOptions"></select>

                                            </div>
                                        </div>
                                        <div class="col-sm-6 col-md-3">
                                            <div class="form-group">
                                                <label class="control-label">
                                                    Confirming
                                                </label>
                                                <select id="confirming" k-value-primitive="true" ng-disabled="!check_confirming" k-ng-model="lc.confirming" kendo-drop-down-list style="width: 100%"
                                                        k-options="supplierbankOptions"></select>
                                            </div>
                                        </div>
                                        <div class="col-sm-6 col-md-3">
                                            <div class="form-group">
                                                <label class="control-label">
                                                    Issuing/Applicant
                                                </label>
                                                <select id="issuing" k-value-primitive="true" ng-disabled="!check_issuing" k-ng-model="lc.issuing" kendo-drop-down-list style="width: 100%"
                                                        k-options="bankOptions"></select>
                                            </div>
                                        </div>

                                    </div>

                                </fieldset>
                            </div>


                            <div class="col-sm-6 col-md-3">
                                <div class="form-group">
                                    <label>Confirmation Charges</label>
                                    <div class="input-group">
                                        <div class="icheck-inline">
                                            <label>
                                                <input type="radio" ng-model="confirmradio.radio" value="A" class="icheck" data-radio="iradio_square-grey" checked> Applicant
                                            </label>
                                            <label>
                                                <input type="radio" ng-model="confirmradio.radio" value="B" class="icheck" data-radio="iradio_square-grey"> Benefeciary
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>


                            <div class="col-sm-6 col-md-3">
                                <div class="form-group">
                                    <label>Partial Shipment</label>
                                    <div class="input-group">
                                        <div class="icheck-inline">
                                            <label>
                                                <input type="radio" ng-model="psradio.radio" value="Y" class="icheck" data-radio="iradio_square-grey" checked> Allowed
                                            </label>
                                            <label>
                                                <input type="radio" ng-model="psradio.radio" value="N" class="icheck" data-radio="iradio_square-grey"> Prohibited
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>


                            <div class="col-sm-6 col-md-3">
                                <div class="form-group">
                                    <label>Transferrable </label>
                                    <div class="input-group">
                                        <div class="icheck-inline">
                                            <label>
                                                <input type="radio" ng-model="transferradio.radio" value="Y" class="icheck" data-radio="iradio_square-grey" checked> Yes
                                            </label>
                                            <label>
                                                <input type="radio" ng-model="transferradio.radio" value="N" class="icheck" data-radio="iradio_square-grey"> No
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-sm-6 col-md-3">
                                <div class="form-group">
                                    <label class="control-label">Validity Date</label>
                                    <input type="text" id="validitydate" name="validitydate" autocomplete="off" class="form-control maskdate" ng-disabled="!check_validitydate" ng-model="lc.validitydate" />

                                </div>
                            </div>

                            <div class="col-sm-6 col-md-3">
                                <div class="form-group">
                                    <label class="control-label">
                                        Origin Country Code
                                    </label>
                                    <select id="origincountrycode" k-value-primitive="true" k-ng-model="lc.origincountrycode" kendo-drop-down-list style="width: 100%" ng-disabled="!check_origincountrycode" k-options="countrylist"></select>

                                </div>
                            </div>





                            <div class="col-sm-6 col-md-3">
                                <div class="form-group">
                                    <label class="control-label">
                                        Remarks
                                    </label>
                                    <input type="text" id="Remarks" name="remarks" class="form-control" ng-disabled="!check_remarks" ng-model="lc.remarks" />

                                </div>
                            </div>
                            <div class="col-sm-6 col-md-3">
                                <div class="form-group">
                                    <label class="control-label block">Uploads</label>
                                    <button type="button" data-toggle="modal" data-target="#itemimages" class="btn buttongreen cbtn upload">
                                        <i class="fa fa-upload iconupload" aria-hidden="true"></i>
                                        Upload
                                    </button>


                                </div>
                            </div>


                            <div class="col-md-12 col-md-6">
                                <label class="control-label block"></label>
                                <div class="form-group image-placeholder">

                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="clearfix"></div>
                    <kendo-grid id="grid" options="mainGridOptions" k-rebind="mainGridOptions">
                        <div k-detail-template>
                            <kendo-tabstrip>
                                <ul>
                                    <li class="k-state-active">Details</li>
                                    <li>Items</li>
                                </ul>
                                <div class="details">

                                    <table class="table-striped table-hover">
                                        <tr>
                                            <td class="details-label">Lc Track No:</td>
                                            <td class="details-value">{{dataItem.LC_TRACK_NO}}</td>
                                            <td class="details-label">Pinvoice No:</td>
                                            <td class="details-value">{{dataItem.PINVOICE_NO}}</td>
                                            <td class="details-label">Order No:</td>
                                            <td class="details-value">{{dataItem.ORDER_NO}}</td>
                                        </tr>
                                        <tr>
                                            <td class="details-label">Lc Number:</td>

                                            <td class="details-value">{{dataItem.SUPPLIER_EDESC == null ? dataItem.LC_NUMBER : dataItem.SUPPLIER_EDESC }}</td>
                                            <td class="details-label">Banks:</td>
                                            <td class="details-value">{{dataItem.BANK_NAME}}</td>
                                            <td class="details-label">Payment Terms:</td>
                                            <td class="details-value">{{dataItem.PTERMS_EDESC}}</td>
                                        </tr>
                                        <tr>
                                            <td class="details-label">Credit Days:</td>
                                            <td class="details-value">{{dataItem.CREDIT_DAYS}}</td>
                                            <td class="details-label">Transferable:</td>
                                            <td class="details-value">{{dataItem.TRANSFERABLE}}</td>
                                            <td class="details-label">Status:</td>
                                            <td class="details-value">{{dataItem.STATUS_EDESC}}</td>

                                        </tr>
                                        <tr>
                                            <td class="details-label">Open Date:</td>
                                            <td class="details-value">{{dataItem.OPEN_DATE  | date:"MM/dd/yyyy"}}</td>
                                            <td class="details-label">Expiry Date:</td>
                                            <td class="details-value">{{dataItem.EXPIRY_DATE  | date:"MM/dd/yyyy"}}</td>
                                            <td class="details-label">Last Shipment Date:</td>
                                            <td class="details-value">{{dataItem.LAST_SHIPMENT_DATE | date:"MM/dd/yyyy"}}</td>
                                        </tr>
                                        <tr>
                                            <td class="details-label">Expiry Place:</td>
                                            <td class="details-value">{{dataItem.EXPIRY_PLACE}}</td>
                                            <td class="details-label">Partial Shipment:</td>
                                            <td class="details-value">{{dataItem.PARTIAL_SHIPMENT}}</td>
                                            <td class="details-label">Confirmation Request:</td>
                                            <td class="details-value">{{dataItem.CONFIRMATION_REQ}}</td>
                                        </tr>
                                        <tr>
                                            <td class="details-label">Insurance Flag:</td>
                                            <td class="details-value">{{dataItem.INSURANCE_FLAG}}</td>
                                            <td class="details-label">Tolerance Per:</td>
                                            <td class="details-value">{{dataItem.TOLERANCE_PER}}</td>
                                            <td class="details-label">Terms Name:</td>
                                            <td class="details-value">{{dataItem.TERMS_EDESC}}</td>
                                        </tr>
                                        <tr>
                                            <td class="details-label">Payment Terms Name:</td>
                                            <td class="details-value">{{dataItem.PTERMS_EDESC}}</td>
                                            <td class="details-label">Advising Bank:</td>
                                            <td class="details-value">{{dataItem.ADVISING_BANK_EDESC}}</td>
                                            <td class="details-label">Confirm Bank:</td>
                                            <td class="details-value">{{dataItem.CONFIRM_BANK_EDESC}}</td>
                                        </tr>
                                        <tr>
                                            <td class="details-label">Issuing Bank:</td>
                                            <td class="details-value">{{dataItem.ISSUING_BANK_EDESC}}</td>
                                            <td class="details-label">Application Out Charge:</td>
                                            <td class="details-value">{{dataItem.APP_OUT_CHARGE}}</td>
                                            <td class="details-label">Beneficiary Out Charge:</td>
                                            <td class="details-value">{{dataItem.BEF_OUT_CHARGE}}</td>

                                        </tr>
                                        <tr>
                                            <td class="details-label">Applicant Confirm Charge:</td>
                                            <td class="details-value">{{dataItem.APP_CONFIRM_CHARGE}}</td>
                                            <td class="details-label">Beneficiary Confirm Charge:</td>
                                            <td class="details-value">{{dataItem.BNF_CONFIRM_CHARGE}}</td>
                                            <td class="details-label">Doc Request Days:</td>
                                            <td class="details-value">{{dataItem.DOC_REQ_DAYS}}</td>
                                        </tr>
                                        <tr>

                                            <td class="details-label">Remarks:</td>
                                            <td class="details-value">{{dataItem.REMARKS}}</td>
                                        </tr>
                                    </table>

                                </div>



                                <div>
                                    <div class="itemgrid" kendo-grid k-options="itemGridOptions(dataItem)"></div>
                                </div>

                            </kendo-tabstrip>
                        </div>
                    </kendo-grid>
                    @Html.Partial("~/Views/Shared/Controls/_GridToolbar.cshtml")
                    <div class="modal fade" id="FilterModal" role="dialog">
                        <div class="modal-dialog">

                            <!-- Filter Modal content-->
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                                    <h4 class="modal-title">Filter</h4>
                                </div>
                                <div class="modal-body">
                                    <div class="row">
                                        <div class="col-sm-12 col-md-12">
                                            <div class="form-group">
                                                <label class="control-label">
                                                    PerfomaInvoice(PI#)
                                                </label>
                                                <input id="filterDataperfomainvoice" ng-model="filterData.perfomainvoice" name="perfomainvoice" kendo-auto-complete
                                                       k-data-text-field="'PINVOICE_NO'"
                                                       k-data-value-field="'PINVOICE_NO'"
                                                       k-data-source="ipPurchaseOrder"
                                                       k-min-length="1"
                                                       k-value-primitive="true"
                                                       k-placeholder="'Select Pinvoice No...'"
                                                       style="width:100%" />


                                            </div>
                                        </div>

                                        <div class="col-sm-12 col-md-12">
                                            <div class="form-group">
                                                <label class="control-label">
                                                    Lc Number
                                                </label>
                                                <input id="filterDataLcNumber" ng-model="filterData.number" name="filterDatalcnumber" style="width: 99%;" kendo-auto-complete
                                                       k-placeholder="'Select Lc Number'"
                                                       k-data-text-field="'SUPPLIER_EDESC'"
                                                       k-data-value-field="'SUPPLIER_CODE'"
                                                       k-filter="'contains'"
                                                       k-auto-bind="true"
                                                       k-data-source="lcfromsynergy"
                                                       k-suggest="false" />
                                            </div>
                                        </div>


                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="submit" id="savePerformaInvoice" name="savePerformaInvoice" ng-click="Filter()" class="btn buttongreen btn-sm">Filter</button>
                                    <button type="button" class="btn btn-sm" ng-click="CancelFilter()" data-dismiss="modal">Cancel</button>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="modal fade" id="itemimages" tabindex="-1" role="dialog" aria-labelledby="filterModalLabel">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">

                                    <h4 class="modal-title">Image Upload</h4>
                                </div>

                                <form action="~/LOC/Home/LOCImageUpload" method="post" enctype="multipart/form-data" class="dropzone form-horizontal form-bordered" id="myAwesomeDropzone">
                                    <div class="form-group form-actions">
                                        <div class="col-md-9 col-md-offset-4">
                                            <input type="text" style="display:none" ng-model="loccode" name="loccode" id="loccode" />
                                            <input type="text" style="display:none" ng-model="lctrackno" name="lctrackno" id="lctrackno" />

                                        </div>
                                    </div>
                                </form>

                                <div class="modal-footer">
                                    <button type="button" class="btn btn-success pull-right" data-dismiss="modal" aria-hidden="true">Ok</button>

                                </div>
                            </div>


                        </div>
                    </div>
                    <div class="modal fade" id="historymodal" tabindex="-1" role="dialog" aria-labelledby="filterModalLabel">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <div class="form-inline">

                                    </div>
                                    <h4 class="modal-title">Document History</h4>
                                </div>
                                <div id="example" ng-app="KendoDemos">
                                    <div class="demo-section k-content">

                                        <div kendo-tab-strip k-content-urls="[ null, null]">
                                            <!-- tab list -->
                                            <ul>
                                                <li class="k-state-active">Items History</li>

                                                <li>Document History</li>
                                            </ul>

                                            <div style="padding: 1em">
                                                <div class="historyitemgrid" k-rebind="historyitemGridOptions" kendo-grid k-options="historyitemGridOptions(dataItem)"></div>
                                            </div>


                                            <div style="padding: 1em">
                                                <div class="historydocumentgrid" k-rebind="historydocumentGridOptions" kendo-grid k-options="historydocumentGridOptions(dataItem)"></div>
                                            </div>
                                        </div>

                                    </div>
                                </div>

                                <div class="modal-footer">
                                    <button type="button" class="btn btn-success pull-right" data-dismiss="modal" aria-hidden="true">Ok</button>

                                </div>
                            </div>


                        </div>
                    </div>
                    <div class="modal fade" id="approvemodal" tabindex="-1" role="dialog" aria-labelledby="filterModalLabel">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close right-dismis" data-dismiss="modal" aria-hidden="true"></button>
                                    <h4 class="modal-title"> Approve</h4>

                                </div>
                                <div class="modal-body">
                                    <div class="row">

                                        <div class="form-group">                                       
                                            <div class="row" style="margin-left:20px">
                                                <label class="control-label col-md-8">
                                                   Are You sure to Approve ?
                                                </label>
                                                <div class="col-md-3">
                                                   
                                                    <input type="checkbox" class="approved" id="isApproved" ng-model="isApproved" />

                                                </div>
                                            </div>
                                        

                                        </div>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" id="saveApproval" name="saveApproval" ng-click="saveApproval()" class="btn btn-success btn-sm ng-binding">Ok</button>
                                    <button type="button" id="cancellc" name="cancellc" ng-click="CancelApproval()" class="btn btn-default btn-sm">Cancel</button>
                                </div>
                            </div>


                        </div>
                    </div>

                    <div class="modal fade" id="statusmodal" tabindex="-1" role="dialog" aria-labelledby="filterModalLabel">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close right-dismis" data-dismiss="modal" aria-hidden="true"></button>
                                    <h4 class="modal-title"> Status</h4>

                                </div>
                                <div class="modal-body">
                                    <div class="row">

                                        <div class="form-group">
                                            <label class="control-label col-md-2">
                                                Status
                                            </label>
                                            <div class="col-md-9">
                                                <select id="status" name="status" k-value-primitive="true" k-ng-model="status" kendo-drop-down-list style="min-width:100%"
                                                        k-options="lcstatus"></select>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" id="savePerformaInvoice" name="savePerformaInvoice" ng-click="saveStatus()" class="btn btn-success btn-sm ng-binding">Save</button>
                                    <button type="button" id="cancellc" name="cancellc" ng-click="CancelStatus()" class="btn btn-default btn-sm">Cancel</button>
                                </div>
                            </div>


                        </div>
                    </div>

                    <div class="modal fade" id="printmodal" tabindex="-1" role="dialog" aria-labelledby="filterModalLabel">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close right-dismis" data-dismiss="modal" aria-hidden="true"></button>

                                    <h4 class="modal-title"> Print Detail</h4>

                                </div>
                                <div class="modal-body">
                                    <div id="detailsdiv" class="table-responsive">
                                        <table class="wholedetail table-striped table-hover">

                                            <tr>
                                                <b><u>PURCHASE ORDER</u></b>
                                            </tr>
                                            <tr>
                                                <td class="details-label">Lc Track No:</td>
                                                <td class="details-value">{{LC_TRACK_NO}}</td>
                                                <td class="details-label">Order No:</td>
                                                <td class="details-value">{{ORDER_NO}}</td>
                                                <td class="details-label">Currency:</td>
                                                <td class="details-value">{{CURRENCY_CODE}}</td>
                                            </tr>
                                            <tr>
                                                <td class="details-label">Manual Number:</td>
                                                <td class="details-value">{{MANUAL_NUMBER}}</td>
                                                <td class="details-label">Validity Date:</td>
                                                <td class="details-value">{{VALIDITY_DATE}}</td>
                                                <td class="details-label">Lead Time:</td>
                                                <td class="details-value">{{EST_DELIVERY_DATE}}</td>
                                            </tr>
                                            <tr>
                                                <td class="details-label">Delivery Place Type:</td>
                                                <td class="details-value">{{DELIVERY_PLACE_TYPE}}</td>
                                                <td class="details-label">Delivery Place:</td>
                                                <td class="details-value">{{DELIVERY_PLACE}}</td>
                                                <td class="details-label">Applicant Name:</td>
                                                <td class="details-value">{{APP_NAME}}</td>

                                            </tr>
                                            <tr>
                                                <td class="details-label">Applicant Address:</td>
                                                <td class="details-value">{{APP_ADDRESS}}</td>
                                                <td class="details-label">Bill Company Name:</td>
                                                <td class="details-value">{{BILL_COMP_NAME}}</td>
                                                <td class="details-label">Bill Company Address:</td>
                                                <td class="details-value">{{BILL_COMP_ADD}}</td>
                                            </tr>
                                            <tr>
                                                <td class="details-label">Bill Company Phone:</td>
                                                <td class="details-value">{{BILL_COMPANY_PHONE}}</td>
                                                <td class="details-label">Ship Company Name:</td>
                                                <td class="details-value">{{SHIP_COMPANY_NAME}}</td>
                                                <td class="details-label">Ship Company Address:</td>
                                                <td class="details-value">{{SHIP_COMPANY_ADD}}</td>
                                            </tr>
                                            <tr>
                                                <td class="details-label">Ship Company Phone:</td>
                                                <td class="details-value">{{SHIP_COMPANY_PHONE}}</td>
                                                <td class="details-label">Transshipment:</td>
                                                <td class="details-value">{{TRANSSHIPMENT}}</td>
                                                <td class="details-label">Contact Name:</td>
                                                <td class="details-value">{{CONTACT_NAME}}</td>
                                            </tr>
                                            <tr>
                                                <td class="details-label">Contact Phone:</td>
                                                <td class="details-value">{{CONTACT_PHONE}}</td>
                                                <td class="details-label">Contact Email:</td>
                                                <td class="details-value">{{CONTACT_EMAIL}}</td>
                                                <td class="details-label">Terms:</td>
                                                <td class="details-value">{{TERMS_EDESC}}</td>
                                            </tr>
                                            <tr>
                                                <td class="details-label">Payment terms:</td>
                                                <td class="details-value">{{PTERMS_EDESC}}</td>
                                                <td class="details-label">Beneficiary Name:</td>
                                                <td class="details-value">{{BNF_EDESC}}</td>
                                                <td class="details-label">Beneficiary Address:</td>
                                                <td class="details-value">{{BNF_ADDRESS}}</td>

                                            </tr>
                                            <tr>
                                                <td><b><u>PROFORMA INVOICE</u></b></td>

                                            </tr>
                                            <tr>
                                                <td class="details-label">Pinvoice No:</td>
                                                <td class="details-value">{{PINVOICE_NO}}</td>
                                                <td class="details-label">Bank Name:</td>
                                                <td class="details-value">{{BANK_NAME}}</td>
                                                <td class="details-label">Bank Branch:</td>
                                                <td class="details-value">{{BANK_BRANCH}}</td>

                                            </tr>
                                            <tr>
                                                <td class="details-label">Swift Code:</td>
                                                <td class="details-value">{{SWIFT_CODE}}</td>
                                                <td class="details-label">Intermediate Bank:</td>
                                                <td class="details-value">{{INTM_BANK_CODE}}</td>
                                                <td class="details-label">Intermediate Swift Code:</td>
                                                <td class="details-value">{{INTM_SWIFT_CODE}}</td>
                                            </tr>
                                            <tr>
                                                <td class="details-label">Accepted Doc Date:</td>
                                                <td class="details-value">{{ACCEPTED_DOC_DATE}}</td>

                                            </tr>
                                            <tr>
                                                <td><b><u>LC</u></b></td>
                                            </tr>
                                            <tr>
                                                <td class="details-label">Lc Number:</td>
                                                <td class="details-value">{{LC_NUMBER}}</td>
                                                <td class="details-label">Open Date:</td>
                                                <td class="details-value">{{OPEN_DATE}}</td>
                                                <td class="details-label">Expiry Date:</td>
                                                <td class="details-value">{{EXPIRY_DATE}}</td>
                                            </tr>
                                            <tr>
                                                <td class="details-label">Expiry Place:</td>
                                                <td class="details-value">{{EXPIRY_PLACE}}</td>
                                                <td class="details-label">Status:</td>
                                                <td class="details-value">{{STATUS_EDESC}}</td>
                                                <td class="details-label">Last Shipment Date:</td>
                                                <td class="details-value">{{LAST_SHIPMENT_DATE}}</td>
                                            </tr>
                                            <tr>
                                                <td class="details-label">Tolerance Per:</td>
                                                <td class="details-value">{{TOLERANCE_PER}}</td>
                                                <td class="details-label">Advising Bank:</td>
                                                <td class="details-value">{{ADVISING_BANK_EDESC}}</td>
                                                <td class="details-label">Confirm Bank:</td>
                                                <td class="details-value">{{CONFIRM_BANK_EDESC}}</td>
                                            </tr>
                                            <tr>
                                                <td class="details-label">Issuing Bank: </td>
                                                <td class="details-value">{{ISSUING_BANK_EDESC}}</td>
                                                <td class="details-label">Payment Terms:</td>
                                                <td class="details-value">{{LC_PTERMS_EDESC}}</td>
                                                <td class="details-label">Terms:</td>
                                                <td class="details-value">{{LC_TERMS_EDESC}}</td>
                                            </tr>
                                            <tr>
                                                <td class="details-label">Partial Shipment: </td>
                                                <td class="details-value">{{PARTIALSHIPMENT}}</td>
                                                <td class="details-label">Confirmation Request:</td>
                                                <td class="details-value">{{CONFIRM_REQ}}</td>
                                                <td class="details-label">Transferable:</td>
                                                <td class="details-value">{{TRANSFERABLE}}</td>
                                            </tr>
                                            <tr>
                                                <td class="details-label">Insurance Flag: </td>
                                                <td class="details-value">{{INSURANCE_FLAG}}</td>
                                                <td class="details-label">Out Charge:</td>
                                                <td class="details-value">{{OUT_CHARGE}}</td>
                                                <td class="details-label">Confirm Charge:</td>
                                                <td class="details-value">{{CONFIRM_CHARGE}}</td>
                                            </tr>
                                            <tr>
                                                <td class="details-label">Doc Request Days: </td>
                                                <td class="details-value">{{DOC_REQ_DAYS}}</td>
                                                <td class="details-label">Origin Country Code: </td>
                                                <td class="details-value">{{ORIGIN_COUNTRY}}</td>

                                            </tr>


                                        </table>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" ng-click="printDiv('detailsdiv')" class="btn btn-default">Print Preview</button>
                                    <button type="button" class="btn btn-success pull-right" data-dismiss="modal" aria-hidden="true">Ok</button>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div><!--/portlet-body-->
        </div><!-- /portlet-->
        <div class="modal fade" id="ContentModal" role="dialog">
            <div class="modal-dialog inputcontent">

                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Enable/Disable</h4>
                    </div>
                    <div class="modal-body">
                        <!------------------------------------------For All Enable/Disable------------------------------------>
                        <div class="row">
                            <div class="col-md-4">
                                <input type="checkbox" ng-change='AllcheckboxEnableDisable()' id="Allcheckbox" ng-model="Allcheckbox" />
                                All
                            </div>
                        </div>
                        <!------------------------------------------For LC-------------------------------------->
                        <div>
                            <input type="checkbox" ng-model="check_lcstatus" class="enabledisable" />Status<br>
                            <input type="checkbox" ng-model="check_opendate" class="enabledisable" /> Open Date<br>
                            <input type="checkbox" ng-model="check_expirydate" class="enabledisable" /> Expiry Date<br>
                            <input type="checkbox" ng-model="check_lastshipmentdate" class="enabledisable" />Last Shipment Date<br>
                            <input type="checkbox" ng-model="check_terms" class="enabledisable" />Terms<br>
                            <input type="checkbox" ng-model="check_paymentterm" class="enabledisable" />Payment Terms<br>
                            <input type="checkbox" ng-model="check_creditdays" class="enabledisable" />Credit Days<br>


                            <input type="checkbox" ng-model="check_leadtime" class="enabledisable" />Lead Time<br>
                            <input type="checkbox" ng-model="check_expiryplace" class="enabledisable" />Expiry Place<br>
                            <input type="checkbox" ng-model="check_toleranceper" class="enabledisable" />Tolerance<br>
                            <input type="checkbox" ng-model="check_docreqdays" class="enabledisable" />Document Req Days<br>
                            <!------------------------------------------For Bank-------------------------------------->
                            <input type="checkbox" ng-model="check_advising" class="enabledisable" />  Advising Bank<br>
                            <input type="checkbox" ng-model="check_confirming" class="enabledisable" />Confirming Bank<br>
                            <input type="checkbox" ng-model="check_issuing" class="enabledisable" />  Issueing/Application Bank<br>
                            <!------------------------------------------For LC Down panel-------------------------------------->
                            <input type="checkbox" ng-model="check_remarks" class="enabledisable" />remarks<br>
                            <input type="checkbox" ng-model="check_origincountrycode" class="enabledisable" />Origin Country Code<br>
                            <input type="checkbox" ng-model="check_validitydate" class="enabledisable" />Validity Date<br>



                        </div>

                        <div class="modal-footer">
                            <button type="button" class="btn btn-primary" data-dismiss="modal">Ok</button>
                        </div>
                    </div>

                </div>
            </div>
            <!--container end -->
        </div>
    </div>

</div>


<script>
    var myDropzone;
    $(document).ready(function () {


    });
    $('.nav-tabs a').on('click', function (e) {

        e.preventDefault();

    });
    function RefreshGrid() {
        $("#grid").data("kendoGrid").dataSource.read();
    }

    function RemoveImage(el) {

        var $this = $(this);
        bootbox.confirm("Are you sure you want to delete?", function (result) {

            if (result) {

                var imageremovedetails = {
                    Path: $(el).data("src"),
                    LocCode: $('#lccode').val(),
                };

                $.ajax({
                    url: "/api/LCEntry/RemoveLcImage",
                    type: "POST",
                    dataType: "json",
                    data: imageremovedetails,
                    success: function (result) {
                        RefreshGrid();
                        el.closest('div').remove();
                        displayPopupNotification("Succesfully Removed File.", "Success");
                    },
                    error: function (result) {
                        displayPopupNotification(result.responseText, "error");
                    }
                });

            }
        });

    }



    myDropzone = new Dropzone('#myAwesomeDropzone', { // Make the whole body a dropzone
        thumbnailWidth: 200,
        thumbnailHeight: 75,
        autoDiscover: false,
        autoProcessQueue: false,
        addRemoveLinks: true,
        paramName: "inputFiles",
        uploadMultiple: true,
        parallelUploads: 100,
        maxFiles: 100,
        maxFileSize: 10,
    });

    myDropzone.on("success", function (file, responseText) {

        if (responseText.status == "Error") {
            displayPopupNotification("File upload does not success. Please update.", "error");
        }
        else {
            this.removeFile(file);
        }

        RefreshGrid();
    });

</script>
